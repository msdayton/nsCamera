<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLNL Nanosecond Gated Camera: C:/Users/hill35/git/camera_python/nsCamera/comms/ZestETM1/Data.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="llnl60.jpg"/></td>
  <td id="projectalign">
   <div id="projectname">LLNL Nanosecond Gated Camera<span id="projectnumber">&#160;2.1.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_7bb5f86748f986f34238f6c30dc8700a.html">nsCamera</a></li><li class="navelem"><a class="el" href="dir_018ac2f430eba4341dc37f667a6afcec.html">comms</a></li><li class="navelem"><a class="el" href="dir_942ebec2ff2b84bed57423d1536154a4.html">ZestETM1</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Data.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;memory.h&gt;</code><br />
<code>#include &quot;<a class="el" href="_zest_e_t_m1_8h_source.html">ZestETM1.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_private_8h_source.html">Private.h</a>&quot;</code><br />
</div>
<p><a href="_data_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:struct_z_e_s_t_e_t_m1___w_r_i_t_e___r_e_g___c_m_d" id="r_struct_z_e_s_t_e_t_m1___w_r_i_t_e___r_e_g___c_m_d"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#struct_z_e_s_t_e_t_m1___w_r_i_t_e___r_e_g___c_m_d">ZESTETM1_WRITE_REG_CMD</a></td></tr>
<tr class="separator:struct_z_e_s_t_e_t_m1___w_r_i_t_e___r_e_g___c_m_d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:struct_z_e_s_t_e_t_m1___w_r_i_t_e___r_e_g___r_e_s_p_o_n_s_e" id="r_struct_z_e_s_t_e_t_m1___w_r_i_t_e___r_e_g___r_e_s_p_o_n_s_e"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#struct_z_e_s_t_e_t_m1___w_r_i_t_e___r_e_g___r_e_s_p_o_n_s_e">ZESTETM1_WRITE_REG_RESPONSE</a></td></tr>
<tr class="separator:struct_z_e_s_t_e_t_m1___w_r_i_t_e___r_e_g___r_e_s_p_o_n_s_e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:struct_z_e_s_t_e_t_m1___r_e_a_d___r_e_g___c_m_d" id="r_struct_z_e_s_t_e_t_m1___r_e_a_d___r_e_g___c_m_d"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#struct_z_e_s_t_e_t_m1___r_e_a_d___r_e_g___c_m_d">ZESTETM1_READ_REG_CMD</a></td></tr>
<tr class="separator:struct_z_e_s_t_e_t_m1___r_e_a_d___r_e_g___c_m_d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:struct_z_e_s_t_e_t_m1___r_e_a_d___r_e_g___r_e_s_p_o_n_s_e" id="r_struct_z_e_s_t_e_t_m1___r_e_a_d___r_e_g___r_e_s_p_o_n_s_e"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#struct_z_e_s_t_e_t_m1___r_e_a_d___r_e_g___r_e_s_p_o_n_s_e">ZESTETM1_READ_REG_RESPONSE</a></td></tr>
<tr class="separator:struct_z_e_s_t_e_t_m1___r_e_a_d___r_e_g___r_e_s_p_o_n_s_e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:struct_z_e_s_t_e_t_m1___m_a_i_l_b_o_x___i_n_t___c_m_d" id="r_struct_z_e_s_t_e_t_m1___m_a_i_l_b_o_x___i_n_t___c_m_d"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#struct_z_e_s_t_e_t_m1___m_a_i_l_b_o_x___i_n_t___c_m_d">ZESTETM1_MAILBOX_INT_CMD</a></td></tr>
<tr class="separator:struct_z_e_s_t_e_t_m1___m_a_i_l_b_o_x___i_n_t___c_m_d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:struct_z_e_s_t_e_t_m1___m_a_i_l_b_o_x___i_n_t___r_e_s_p_o_n_s_e" id="r_struct_z_e_s_t_e_t_m1___m_a_i_l_b_o_x___i_n_t___r_e_s_p_o_n_s_e"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#struct_z_e_s_t_e_t_m1___m_a_i_l_b_o_x___i_n_t___r_e_s_p_o_n_s_e">ZESTETM1_MAILBOX_INT_RESPONSE</a></td></tr>
<tr class="separator:struct_z_e_s_t_e_t_m1___m_a_i_l_b_o_x___i_n_t___r_e_s_p_o_n_s_e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:af08ec37a8c99d747fb60fa15bc28678b" id="r_af08ec37a8c99d747fb60fa15bc28678b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af08ec37a8c99d747fb60fa15bc28678b">_CRT_SECURE_NO_WARNINGS</a></td></tr>
<tr class="separator:af08ec37a8c99d747fb60fa15bc28678b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04197efe52be2e5fb6cd0bece8c60a83" id="r_a04197efe52be2e5fb6cd0bece8c60a83"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a04197efe52be2e5fb6cd0bece8c60a83">ZESTETM1_COMMAND_SPI</a>&#160;&#160;&#160;0xee</td></tr>
<tr class="separator:a04197efe52be2e5fb6cd0bece8c60a83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af298cc2bbef120e7b5c9725df28cf03b" id="r_af298cc2bbef120e7b5c9725df28cf03b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af298cc2bbef120e7b5c9725df28cf03b">ZESTETM1_COMMAND_WRITE_REG</a>&#160;&#160;&#160;0xf6</td></tr>
<tr class="separator:af298cc2bbef120e7b5c9725df28cf03b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac0655070dc4e12fc634331d3e773404" id="r_aac0655070dc4e12fc634331d3e773404"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aac0655070dc4e12fc634331d3e773404">ZESTETM1_COMMAND_READ_REG</a>&#160;&#160;&#160;0xf7</td></tr>
<tr class="separator:aac0655070dc4e12fc634331d3e773404"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab60f054d90fa8df09a7e0e47ad0230f4" id="r_ab60f054d90fa8df09a7e0e47ad0230f4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab60f054d90fa8df09a7e0e47ad0230f4">ZESTETM1_COMMAND_MAILBOX_INT</a>&#160;&#160;&#160;0xf8</td></tr>
<tr class="separator:ab60f054d90fa8df09a7e0e47ad0230f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a575cbb65aeb0c15d5ffeb34e56034192" id="r_a575cbb65aeb0c15d5ffeb34e56034192"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceab">ZESTETM1_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a575cbb65aeb0c15d5ffeb34e56034192">ZestETM1_OpenConnection</a> (<a class="el" href="_zest_e_t_m1_8h.html#struct_z_e_s_t_e_t_m1___c_a_r_d___i_n_f_o">ZESTETM1_CARD_INFO</a> *CardInfo, <a class="el" href="_zest_e_t_m1_8h.html#a53918fd9b48e787527f096f885151356">ZESTETM1_CONNECTION_TYPE</a> Type, uint16_t Port, uint16_t LocalPort, <a class="el" href="_zest_e_t_m1_8h.html#a29638fdf927ddaa8348fb861c075cbd1">ZESTETM1_CONNECTION</a> *Connection)</td></tr>
<tr class="separator:a575cbb65aeb0c15d5ffeb34e56034192"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa229ea144d975a4dd9438902f88a3f5a" id="r_aa229ea144d975a4dd9438902f88a3f5a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceab">ZESTETM1_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa229ea144d975a4dd9438902f88a3f5a">ZestETM1_CloseConnection</a> (<a class="el" href="_zest_e_t_m1_8h.html#a29638fdf927ddaa8348fb861c075cbd1">ZESTETM1_CONNECTION</a> Connection)</td></tr>
<tr class="separator:aa229ea144d975a4dd9438902f88a3f5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c81e471bdc4545cd0e36988ea72fe50" id="r_a2c81e471bdc4545cd0e36988ea72fe50"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceab">ZESTETM1_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2c81e471bdc4545cd0e36988ea72fe50">ZestETM1_WriteData</a> (<a class="el" href="_zest_e_t_m1_8h.html#a29638fdf927ddaa8348fb861c075cbd1">ZESTETM1_CONNECTION</a> Connection, void *Buffer, uint32_t Length, unsigned long *Written, uint32_t Timeout)</td></tr>
<tr class="separator:a2c81e471bdc4545cd0e36988ea72fe50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad89ae60c4229b7e918bb5290dfcaf73b" id="r_ad89ae60c4229b7e918bb5290dfcaf73b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceab">ZESTETM1_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad89ae60c4229b7e918bb5290dfcaf73b">ZestETM1_ReadData</a> (<a class="el" href="_zest_e_t_m1_8h.html#a29638fdf927ddaa8348fb861c075cbd1">ZESTETM1_CONNECTION</a> Connection, void *Buffer, uint32_t Length, unsigned long *Read, uint32_t Timeout)</td></tr>
<tr class="separator:ad89ae60c4229b7e918bb5290dfcaf73b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab83ba960dd2a6bd641392548b4f394dc" id="r_ab83ba960dd2a6bd641392548b4f394dc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceab">ZESTETM1_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab83ba960dd2a6bd641392548b4f394dc">ZestETM1_SendCommand</a> (<a class="el" href="_zest_e_t_m1_8h.html#struct_z_e_s_t_e_t_m1___c_a_r_d___i_n_f_o">ZESTETM1_CARD_INFO</a> *CardInfo, <a class="el" href="_zest_e_t_m1_8h.html#a29638fdf927ddaa8348fb861c075cbd1">ZESTETM1_CONNECTION</a> Connection, void *WriteBuffer, uint32_t WriteLen, void *ReadBuffer, uint32_t ReadLen, int WaitForAck)</td></tr>
<tr class="separator:ab83ba960dd2a6bd641392548b4f394dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a501dee9164bf6da1d70a7307cb397ee8" id="r_a501dee9164bf6da1d70a7307cb397ee8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceab">ZESTETM1_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a501dee9164bf6da1d70a7307cb397ee8">ZestETM1_SPIReadWrite</a> (<a class="el" href="_zest_e_t_m1_8h.html#struct_z_e_s_t_e_t_m1___c_a_r_d___i_n_f_o">ZESTETM1_CARD_INFO</a> *CardInfo, <a class="el" href="_zest_e_t_m1_8h.html#a29638fdf927ddaa8348fb861c075cbd1">ZESTETM1_CONNECTION</a> Connection, int Device, int WordLen, uint32_t *WriteData, uint32_t *ReadData, uint32_t Length, int ReleaseCS, int WaitForAck)</td></tr>
<tr class="separator:a501dee9164bf6da1d70a7307cb397ee8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4c0ed51430b97f6d26eff0515f57de8" id="r_ab4c0ed51430b97f6d26eff0515f57de8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceab">ZESTETM1_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab4c0ed51430b97f6d26eff0515f57de8">ZestETM1OpenConnection</a> (<a class="el" href="_zest_e_t_m1_8h.html#struct_z_e_s_t_e_t_m1___c_a_r_d___i_n_f_o">ZESTETM1_CARD_INFO</a> *CardInfo, <a class="el" href="_zest_e_t_m1_8h.html#a53918fd9b48e787527f096f885151356">ZESTETM1_CONNECTION_TYPE</a> Type, uint16_t Port, uint16_t LocalPort, <a class="el" href="_zest_e_t_m1_8h.html#a29638fdf927ddaa8348fb861c075cbd1">ZESTETM1_CONNECTION</a> *Connection)</td></tr>
<tr class="separator:ab4c0ed51430b97f6d26eff0515f57de8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc71a57af493784e1084e79a0f210e99" id="r_abc71a57af493784e1084e79a0f210e99"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceab">ZESTETM1_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abc71a57af493784e1084e79a0f210e99">ZestETM1CloseConnection</a> (<a class="el" href="_zest_e_t_m1_8h.html#a29638fdf927ddaa8348fb861c075cbd1">ZESTETM1_CONNECTION</a> Connection)</td></tr>
<tr class="separator:abc71a57af493784e1084e79a0f210e99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3d9c3f45e447dfc8490c0b4441b6f03" id="r_af3d9c3f45e447dfc8490c0b4441b6f03"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceab">ZESTETM1_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af3d9c3f45e447dfc8490c0b4441b6f03">ZestETM1WriteData</a> (<a class="el" href="_zest_e_t_m1_8h.html#a29638fdf927ddaa8348fb861c075cbd1">ZESTETM1_CONNECTION</a> Connection, void *Buffer, unsigned long Length, unsigned long *Written, unsigned long Timeout)</td></tr>
<tr class="separator:af3d9c3f45e447dfc8490c0b4441b6f03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab877f729b40a0f8a2023188231a9d735" id="r_ab877f729b40a0f8a2023188231a9d735"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceab">ZESTETM1_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab877f729b40a0f8a2023188231a9d735">ZestETM1ReadData</a> (<a class="el" href="_zest_e_t_m1_8h.html#a29638fdf927ddaa8348fb861c075cbd1">ZESTETM1_CONNECTION</a> Connection, void *Buffer, unsigned long Length, unsigned long *Read, unsigned long Timeout)</td></tr>
<tr class="separator:ab877f729b40a0f8a2023188231a9d735"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32b4337e26aaf8a2a5704ccc022a874f" id="r_a32b4337e26aaf8a2a5704ccc022a874f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceab">ZESTETM1_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a32b4337e26aaf8a2a5704ccc022a874f">ZestETM1SPIReadWrite</a> (<a class="el" href="_zest_e_t_m1_8h.html#struct_z_e_s_t_e_t_m1___c_a_r_d___i_n_f_o">ZESTETM1_CARD_INFO</a> *CardInfo, <a class="el" href="_zest_e_t_m1_8h.html#a8373667be0192228dc85d28cf1b1a98a">ZESTETM1_SPI_RATE</a> Rate, int WordLen, void *WriteData, void *ReadData, unsigned long Length, int ReleaseCS)</td></tr>
<tr class="separator:a32b4337e26aaf8a2a5704ccc022a874f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab432d64dd080e81824b7e876f1b4c548" id="r_ab432d64dd080e81824b7e876f1b4c548"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceab">ZESTETM1_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab432d64dd080e81824b7e876f1b4c548">ZestETM1WriteRegister</a> (<a class="el" href="_zest_e_t_m1_8h.html#struct_z_e_s_t_e_t_m1___c_a_r_d___i_n_f_o">ZESTETM1_CARD_INFO</a> *CardInfo, unsigned long Addr, unsigned short Data)</td></tr>
<tr class="separator:ab432d64dd080e81824b7e876f1b4c548"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af92425059e6cff35f3669b29ef5ea3b1" id="r_af92425059e6cff35f3669b29ef5ea3b1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceab">ZESTETM1_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af92425059e6cff35f3669b29ef5ea3b1">ZestETM1ReadRegister</a> (<a class="el" href="_zest_e_t_m1_8h.html#struct_z_e_s_t_e_t_m1___c_a_r_d___i_n_f_o">ZESTETM1_CARD_INFO</a> *CardInfo, unsigned long Addr, unsigned short *Data)</td></tr>
<tr class="separator:af92425059e6cff35f3669b29ef5ea3b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05c3f778031562dcbe343ff39634bc3a" id="r_a05c3f778031562dcbe343ff39634bc3a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceab">ZESTETM1_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a05c3f778031562dcbe343ff39634bc3a">ZestETM1SetInterrupt</a> (<a class="el" href="_zest_e_t_m1_8h.html#struct_z_e_s_t_e_t_m1___c_a_r_d___i_n_f_o">ZESTETM1_CARD_INFO</a> *CardInfo)</td></tr>
<tr class="separator:a05c3f778031562dcbe343ff39634bc3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/><h2 class="groupheader">Class Documentation</h2>
<a name="struct_z_e_s_t_e_t_m1___w_r_i_t_e___r_e_g___c_m_d" id="struct_z_e_s_t_e_t_m1___w_r_i_t_e___r_e_g___c_m_d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#struct_z_e_s_t_e_t_m1___w_r_i_t_e___r_e_g___c_m_d">&#9670;&#160;</a></span>ZESTETM1_WRITE_REG_CMD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct ZESTETM1_WRITE_REG_CMD</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="_data_8c_source.html#l00058">58</a> of file <a class="el" href="_data_8c_source.html">Data.c</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="a1f8fb4cd0c547a2cfd4216aad0886acd" name="a1f8fb4cd0c547a2cfd4216aad0886acd"></a>uint8_t</td>
<td class="fieldname">
Addr</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a0e6dd80e42ccca802b8df64cb052056f" name="a0e6dd80e42ccca802b8df64cb052056f"></a>uint8_t</td>
<td class="fieldname">
Command</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a983c747655423cfb7aac9b6812e98952" name="a983c747655423cfb7aac9b6812e98952"></a>uint16_t</td>
<td class="fieldname">
Data</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="struct_z_e_s_t_e_t_m1___w_r_i_t_e___r_e_g___r_e_s_p_o_n_s_e" id="struct_z_e_s_t_e_t_m1___w_r_i_t_e___r_e_g___r_e_s_p_o_n_s_e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#struct_z_e_s_t_e_t_m1___w_r_i_t_e___r_e_g___r_e_s_p_o_n_s_e">&#9670;&#160;</a></span>ZESTETM1_WRITE_REG_RESPONSE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct ZESTETM1_WRITE_REG_RESPONSE</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="_data_8c_source.html#l00064">64</a> of file <a class="el" href="_data_8c_source.html">Data.c</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="a73293c4a82ac82b3170ce17c4ae6d70c" name="a73293c4a82ac82b3170ce17c4ae6d70c"></a><a class="el" href="#a937e392a599cab1a790930b2a96efeb9">uint8_t</a></td>
<td class="fieldname">
Command</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="ae96dcd97dbfe164dfb8bf67156699c09" name="ae96dcd97dbfe164dfb8bf67156699c09"></a><a class="el" href="#a937e392a599cab1a790930b2a96efeb9">uint8_t</a></td>
<td class="fieldname">
Dummy1[2]</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a937e392a599cab1a790930b2a96efeb9" name="a937e392a599cab1a790930b2a96efeb9"></a>uint8_t</td>
<td class="fieldname">
Status</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="struct_z_e_s_t_e_t_m1___r_e_a_d___r_e_g___c_m_d" id="struct_z_e_s_t_e_t_m1___r_e_a_d___r_e_g___c_m_d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#struct_z_e_s_t_e_t_m1___r_e_a_d___r_e_g___c_m_d">&#9670;&#160;</a></span>ZESTETM1_READ_REG_CMD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct ZESTETM1_READ_REG_CMD</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="_data_8c_source.html#l00070">70</a> of file <a class="el" href="_data_8c_source.html">Data.c</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="a319ed7cfd1f203f3d96ac95c64bca754" name="a319ed7cfd1f203f3d96ac95c64bca754"></a>uint8_t</td>
<td class="fieldname">
Addr</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a313b2c722fa653ac42a0e4c91ede36eb" name="a313b2c722fa653ac42a0e4c91ede36eb"></a>uint8_t</td>
<td class="fieldname">
Command</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a04a0827a23ed1f2a365753508293474f" name="a04a0827a23ed1f2a365753508293474f"></a>uint8_t</td>
<td class="fieldname">
Dummy[2]</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="struct_z_e_s_t_e_t_m1___r_e_a_d___r_e_g___r_e_s_p_o_n_s_e" id="struct_z_e_s_t_e_t_m1___r_e_a_d___r_e_g___r_e_s_p_o_n_s_e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#struct_z_e_s_t_e_t_m1___r_e_a_d___r_e_g___r_e_s_p_o_n_s_e">&#9670;&#160;</a></span>ZESTETM1_READ_REG_RESPONSE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct ZESTETM1_READ_REG_RESPONSE</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="_data_8c_source.html#l00076">76</a> of file <a class="el" href="_data_8c_source.html">Data.c</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="aeb8bfaf21244120bc56c7abf58f9d4f6" name="aeb8bfaf21244120bc56c7abf58f9d4f6"></a><a class="el" href="#afa5bac6b15fce8e5d6c6bd2ee90d4548">uint8_t</a></td>
<td class="fieldname">
Command</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="afa5bac6b15fce8e5d6c6bd2ee90d4548" name="afa5bac6b15fce8e5d6c6bd2ee90d4548"></a>uint8_t</td>
<td class="fieldname">
Status</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a0a528e48cedec53411b3b7870da044d1" name="a0a528e48cedec53411b3b7870da044d1"></a><a class="el" href="#afa5bac6b15fce8e5d6c6bd2ee90d4548">uint16_t</a></td>
<td class="fieldname">
Value</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="struct_z_e_s_t_e_t_m1___m_a_i_l_b_o_x___i_n_t___c_m_d" id="struct_z_e_s_t_e_t_m1___m_a_i_l_b_o_x___i_n_t___c_m_d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#struct_z_e_s_t_e_t_m1___m_a_i_l_b_o_x___i_n_t___c_m_d">&#9670;&#160;</a></span>ZESTETM1_MAILBOX_INT_CMD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct ZESTETM1_MAILBOX_INT_CMD</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="_data_8c_source.html#l00082">82</a> of file <a class="el" href="_data_8c_source.html">Data.c</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="a450d916f5a310a2e94c2c1b3ba4d11a6" name="a450d916f5a310a2e94c2c1b3ba4d11a6"></a>uint8_t</td>
<td class="fieldname">
Command</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a4222b1b0ca3bc898e72e1d402f2ca836" name="a4222b1b0ca3bc898e72e1d402f2ca836"></a>uint8_t</td>
<td class="fieldname">
Dummy[3]</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="struct_z_e_s_t_e_t_m1___m_a_i_l_b_o_x___i_n_t___r_e_s_p_o_n_s_e" id="struct_z_e_s_t_e_t_m1___m_a_i_l_b_o_x___i_n_t___r_e_s_p_o_n_s_e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#struct_z_e_s_t_e_t_m1___m_a_i_l_b_o_x___i_n_t___r_e_s_p_o_n_s_e">&#9670;&#160;</a></span>ZESTETM1_MAILBOX_INT_RESPONSE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct ZESTETM1_MAILBOX_INT_RESPONSE</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="_data_8c_source.html#l00087">87</a> of file <a class="el" href="_data_8c_source.html">Data.c</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="a7157a29ccd83fc825ad3fe10f3880ec3" name="a7157a29ccd83fc825ad3fe10f3880ec3"></a><a class="el" href="#ab2914518b3d7ddf743e7fa70e29748bd">uint8_t</a></td>
<td class="fieldname">
Command</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a7e3d73d9d9e299af78b1511fe9e03eb7" name="a7e3d73d9d9e299af78b1511fe9e03eb7"></a><a class="el" href="#ab2914518b3d7ddf743e7fa70e29748bd">uint16_t</a></td>
<td class="fieldname">
Dummy</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="ab2914518b3d7ddf743e7fa70e29748bd" name="ab2914518b3d7ddf743e7fa70e29748bd"></a>uint8_t</td>
<td class="fieldname">
Status</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="af08ec37a8c99d747fb60fa15bc28678b" name="af08ec37a8c99d747fb60fa15bc28678b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af08ec37a8c99d747fb60fa15bc28678b">&#9670;&#160;</a></span>_CRT_SECURE_NO_WARNINGS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _CRT_SECURE_NO_WARNINGS</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_data_8c_source.html#l00045">45</a> of file <a class="el" href="_data_8c_source.html">Data.c</a>.</p>

</div>
</div>
<a id="ab60f054d90fa8df09a7e0e47ad0230f4" name="ab60f054d90fa8df09a7e0e47ad0230f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab60f054d90fa8df09a7e0e47ad0230f4">&#9670;&#160;</a></span>ZESTETM1_COMMAND_MAILBOX_INT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZESTETM1_COMMAND_MAILBOX_INT&#160;&#160;&#160;0xf8</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_data_8c_source.html#l00096">96</a> of file <a class="el" href="_data_8c_source.html">Data.c</a>.</p>

</div>
</div>
<a id="aac0655070dc4e12fc634331d3e773404" name="aac0655070dc4e12fc634331d3e773404"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac0655070dc4e12fc634331d3e773404">&#9670;&#160;</a></span>ZESTETM1_COMMAND_READ_REG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZESTETM1_COMMAND_READ_REG&#160;&#160;&#160;0xf7</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_data_8c_source.html#l00095">95</a> of file <a class="el" href="_data_8c_source.html">Data.c</a>.</p>

</div>
</div>
<a id="a04197efe52be2e5fb6cd0bece8c60a83" name="a04197efe52be2e5fb6cd0bece8c60a83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04197efe52be2e5fb6cd0bece8c60a83">&#9670;&#160;</a></span>ZESTETM1_COMMAND_SPI</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZESTETM1_COMMAND_SPI&#160;&#160;&#160;0xee</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_data_8c_source.html#l00093">93</a> of file <a class="el" href="_data_8c_source.html">Data.c</a>.</p>

</div>
</div>
<a id="af298cc2bbef120e7b5c9725df28cf03b" name="af298cc2bbef120e7b5c9725df28cf03b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af298cc2bbef120e7b5c9725df28cf03b">&#9670;&#160;</a></span>ZESTETM1_COMMAND_WRITE_REG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZESTETM1_COMMAND_WRITE_REG&#160;&#160;&#160;0xf6</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_data_8c_source.html#l00094">94</a> of file <a class="el" href="_data_8c_source.html">Data.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="aa229ea144d975a4dd9438902f88a3f5a" name="aa229ea144d975a4dd9438902f88a3f5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa229ea144d975a4dd9438902f88a3f5a">&#9670;&#160;</a></span>ZestETM1_CloseConnection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceab">ZESTETM1_STATUS</a> ZestETM1_CloseConnection </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_zest_e_t_m1_8h.html#a29638fdf927ddaa8348fb861c075cbd1">ZESTETM1_CONNECTION</a></td>          <td class="paramname"><span class="paramname"><em>Connection</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_data_8c_source.html#l00225">225</a> of file <a class="el" href="_data_8c_source.html">Data.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  226</span>{</div>
<div class="line"><span class="lineno">  227</span>    <a class="code hl_struct" href="_private_8h.html#struct_z_e_s_t_e_t_m1___c_o_n_n_e_c_t_i_o_n___s_t_r_u_c_t">ZESTETM1_CONNECTION_STRUCT</a> *Conn = (<a class="code hl_struct" href="_private_8h.html#struct_z_e_s_t_e_t_m1___c_o_n_n_e_c_t_i_o_n___s_t_r_u_c_t">ZESTETM1_CONNECTION_STRUCT</a> *)Connection;</div>
<div class="line"><span class="lineno">  228</span> </div>
<div class="line"><span class="lineno">  229</span>    <span class="keywordflow">if</span> (Conn==NULL)</div>
<div class="line"><span class="lineno">  230</span>    {</div>
<div class="line"><span class="lineno">  231</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceabade3b30f0aeb809be16abf17a911a2e34">ZESTETM1_NULL_PARAMETER</a>;</div>
<div class="line"><span class="lineno">  232</span>    }</div>
<div class="line"><span class="lineno">  233</span>    <span class="keywordflow">if</span> (Conn-&gt;<a class="code hl_variable" href="_private_8h.html#a2931f23afdf4bf714a154be070faacda">Magic</a>!=<a class="code hl_define" href="_private_8h.html#ad83890cd32872afafc76c96d430d195c">ZESTETM1_CONNECTION_HANDLE_MAGIC</a>)</div>
<div class="line"><span class="lineno">  234</span>    {</div>
<div class="line"><span class="lineno">  235</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceabad8aa2db3fe0408d026d02324e7ac31ca">ZESTETM1_ILLEGAL_CONNECTION</a>;</div>
<div class="line"><span class="lineno">  236</span>    }</div>
<div class="line"><span class="lineno">  237</span> </div>
<div class="line"><span class="lineno">  238</span>    <span class="comment">// Cleanup</span></div>
<div class="line"><span class="lineno">  239</span>    <a class="code hl_define" href="_private_8h.html#afdbb9d84bd17efd2ae7290e664992c48">closesocket</a>(Conn-&gt;<a class="code hl_variable" href="_private_8h.html#a220bb8321d7b31637cf206a50c2c6141">Socket</a>);</div>
<div class="line"><span class="lineno">  240</span>    Conn-&gt;<a class="code hl_variable" href="_private_8h.html#a2931f23afdf4bf714a154be070faacda">Magic</a> = 0;</div>
<div class="line"><span class="lineno">  241</span>    free(Conn);</div>
<div class="line"><span class="lineno">  242</span> </div>
<div class="line"><span class="lineno">  243</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceaba43f49fc93d052e75591d50b1c057c087">ZESTETM1_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  244</span>}</div>
<div class="ttc" id="a_private_8h_html_a220bb8321d7b31637cf206a50c2c6141"><div class="ttname"><a href="_private_8h.html#a220bb8321d7b31637cf206a50c2c6141">ZESTETM1_CONNECTION_STRUCT::Socket</a></div><div class="ttdeci">SOCKET Socket</div><div class="ttdef"><b>Definition</b> <a href="_private_8h_source.html#l00101">Private.h:101</a></div></div>
<div class="ttc" id="a_private_8h_html_a2931f23afdf4bf714a154be070faacda"><div class="ttname"><a href="_private_8h.html#a2931f23afdf4bf714a154be070faacda">ZESTETM1_CONNECTION_STRUCT::Magic</a></div><div class="ttdeci">uint32_t Magic</div><div class="ttdef"><b>Definition</b> <a href="_private_8h_source.html#l00095">Private.h:95</a></div></div>
<div class="ttc" id="a_private_8h_html_ad83890cd32872afafc76c96d430d195c"><div class="ttname"><a href="_private_8h.html#ad83890cd32872afafc76c96d430d195c">ZESTETM1_CONNECTION_HANDLE_MAGIC</a></div><div class="ttdeci">#define ZESTETM1_CONNECTION_HANDLE_MAGIC</div><div class="ttdef"><b>Definition</b> <a href="_private_8h_source.html#l00092">Private.h:92</a></div></div>
<div class="ttc" id="a_private_8h_html_afdbb9d84bd17efd2ae7290e664992c48"><div class="ttname"><a href="_private_8h.html#afdbb9d84bd17efd2ae7290e664992c48">closesocket</a></div><div class="ttdeci">#define closesocket</div><div class="ttdef"><b>Definition</b> <a href="_private_8h_source.html#l00058">Private.h:58</a></div></div>
<div class="ttc" id="a_private_8h_html_struct_z_e_s_t_e_t_m1___c_o_n_n_e_c_t_i_o_n___s_t_r_u_c_t"><div class="ttname"><a href="_private_8h.html#struct_z_e_s_t_e_t_m1___c_o_n_n_e_c_t_i_o_n___s_t_r_u_c_t">ZESTETM1_CONNECTION_STRUCT</a></div><div class="ttdef"><b>Definition</b> <a href="_private_8h_source.html#l00093">Private.h:94</a></div></div>
<div class="ttc" id="a_zest_e_t_m1_8h_html_a08b73d24e4c63b14689ce5497acdceaba43f49fc93d052e75591d50b1c057c087"><div class="ttname"><a href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceaba43f49fc93d052e75591d50b1c057c087">ZESTETM1_SUCCESS</a></div><div class="ttdeci">@ ZESTETM1_SUCCESS</div><div class="ttdef"><b>Definition</b> <a href="_zest_e_t_m1_8h_source.html#l00080">ZestETM1.h:80</a></div></div>
<div class="ttc" id="a_zest_e_t_m1_8h_html_a08b73d24e4c63b14689ce5497acdceabad8aa2db3fe0408d026d02324e7ac31ca"><div class="ttname"><a href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceabad8aa2db3fe0408d026d02324e7ac31ca">ZESTETM1_ILLEGAL_CONNECTION</a></div><div class="ttdeci">@ ZESTETM1_ILLEGAL_CONNECTION</div><div class="ttdef"><b>Definition</b> <a href="_zest_e_t_m1_8h_source.html#l00091">ZestETM1.h:91</a></div></div>
<div class="ttc" id="a_zest_e_t_m1_8h_html_a08b73d24e4c63b14689ce5497acdceabade3b30f0aeb809be16abf17a911a2e34"><div class="ttname"><a href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceabade3b30f0aeb809be16abf17a911a2e34">ZESTETM1_NULL_PARAMETER</a></div><div class="ttdeci">@ ZESTETM1_NULL_PARAMETER</div><div class="ttdef"><b>Definition</b> <a href="_zest_e_t_m1_8h_source.html#l00088">ZestETM1.h:88</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a575cbb65aeb0c15d5ffeb34e56034192" name="a575cbb65aeb0c15d5ffeb34e56034192"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a575cbb65aeb0c15d5ffeb34e56034192">&#9670;&#160;</a></span>ZestETM1_OpenConnection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceab">ZESTETM1_STATUS</a> ZestETM1_OpenConnection </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_zest_e_t_m1_8h.html#struct_z_e_s_t_e_t_m1___c_a_r_d___i_n_f_o">ZESTETM1_CARD_INFO</a> *</td>          <td class="paramname"><span class="paramname"><em>CardInfo</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_zest_e_t_m1_8h.html#a53918fd9b48e787527f096f885151356">ZESTETM1_CONNECTION_TYPE</a></td>          <td class="paramname"><span class="paramname"><em>Type</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>Port</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>LocalPort</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_zest_e_t_m1_8h.html#a29638fdf927ddaa8348fb861c075cbd1">ZESTETM1_CONNECTION</a> *</td>          <td class="paramname"><span class="paramname"><em>Connection</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_data_8c_source.html#l00101">101</a> of file <a class="el" href="_data_8c_source.html">Data.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  106</span>{</div>
<div class="line"><span class="lineno">  107</span>    <a class="code hl_struct" href="_private_8h.html#struct_z_e_s_t_e_t_m1___c_o_n_n_e_c_t_i_o_n___s_t_r_u_c_t">ZESTETM1_CONNECTION_STRUCT</a> *NewStruct;</div>
<div class="line"><span class="lineno">  108</span>    <a class="code hl_typedef" href="_private_8h.html#a8dc8083897335125630f1af5dafd5831">SOCKET</a> Socket = -1;</div>
<div class="line"><span class="lineno">  109</span>    <span class="keywordtype">char</span> AddrBuffer[32];</div>
<div class="line"><span class="lineno">  110</span>    <span class="keywordtype">char</span> PortBuffer[32];</div>
<div class="line"><span class="lineno">  111</span> </div>
<div class="line"><span class="lineno">  112</span>    <span class="keywordflow">if</span> (Connection==NULL || CardInfo==NULL)</div>
<div class="line"><span class="lineno">  113</span>    {</div>
<div class="line"><span class="lineno">  114</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceabade3b30f0aeb809be16abf17a911a2e34">ZESTETM1_NULL_PARAMETER</a>;</div>
<div class="line"><span class="lineno">  115</span>    }</div>
<div class="line"><span class="lineno">  116</span> </div>
<div class="line"><span class="lineno">  117</span>    <span class="comment">// Allocate data structure</span></div>
<div class="line"><span class="lineno">  118</span>    NewStruct = malloc(<span class="keyword">sizeof</span>(<a class="code hl_struct" href="_private_8h.html#struct_z_e_s_t_e_t_m1___c_o_n_n_e_c_t_i_o_n___s_t_r_u_c_t">ZESTETM1_CONNECTION_STRUCT</a>));</div>
<div class="line"><span class="lineno">  119</span>    <span class="keywordflow">if</span> (NewStruct==NULL)</div>
<div class="line"><span class="lineno">  120</span>    {</div>
<div class="line"><span class="lineno">  121</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceabae05f1acc940ef1c0aedb66260740c0d7">ZESTETM1_OUT_OF_MEMORY</a>;</div>
<div class="line"><span class="lineno">  122</span>    }</div>
<div class="line"><span class="lineno">  123</span> </div>
<div class="line"><span class="lineno">  124</span>    <span class="comment">// Build target addresses</span></div>
<div class="line"><span class="lineno">  125</span>    sprintf(AddrBuffer, <span class="stringliteral">&quot;%d.%d.%d.%d&quot;</span>, CardInfo-&gt;<a class="code hl_variable" href="_zest_e_t_m1_8h.html#ab3aa9cb6abcc10322be702210423ae8d">IPAddr</a>[0], CardInfo-&gt;<a class="code hl_variable" href="_zest_e_t_m1_8h.html#ab3aa9cb6abcc10322be702210423ae8d">IPAddr</a>[1],</div>
<div class="line"><span class="lineno">  126</span>                    CardInfo-&gt;<a class="code hl_variable" href="_zest_e_t_m1_8h.html#ab3aa9cb6abcc10322be702210423ae8d">IPAddr</a>[2], CardInfo-&gt;<a class="code hl_variable" href="_zest_e_t_m1_8h.html#ab3aa9cb6abcc10322be702210423ae8d">IPAddr</a>[3]);</div>
<div class="line"><span class="lineno">  127</span>    sprintf(PortBuffer, <span class="stringliteral">&quot;%d&quot;</span>, Port);</div>
<div class="line"><span class="lineno">  128</span> </div>
<div class="line"><span class="lineno">  129</span>    <span class="keywordflow">if</span> (Type==<a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a53918fd9b48e787527f096f885151356a4542bc53b93b68a960b819134cd338f1">ZESTETM1_TYPE_UDP</a>)</div>
<div class="line"><span class="lineno">  130</span>    {</div>
<div class="line"><span class="lineno">  131</span>        <span class="comment">// Open UDP connection</span></div>
<div class="line"><span class="lineno">  132</span>        <span class="keyword">struct </span>sockaddr_in SourceIP;</div>
<div class="line"><span class="lineno">  133</span>        <span class="keywordtype">int</span> SourceLen = (int)<span class="keyword">sizeof</span>(<span class="keyword">struct</span> sockaddr_in);</div>
<div class="line"><span class="lineno">  134</span>        Socket = socket(AF_INET, SOCK_DGRAM, IPPROTO_UDP);</div>
<div class="line"><span class="lineno">  135</span>        <span class="keywordflow">if</span> (Socket&lt;0)</div>
<div class="line"><span class="lineno">  136</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceaba3fba885078b9eaf05d9cd7945b9b1d15">ZESTETM1_SOCKET_ERROR</a>;</div>
<div class="line"><span class="lineno">  137</span>        SourceIP.sin_family = AF_INET;</div>
<div class="line"><span class="lineno">  138</span>        SourceIP.sin_addr.s_addr = htonl(INADDR_ANY);</div>
<div class="line"><span class="lineno">  139</span>        SourceIP.sin_port = htons(LocalPort);</div>
<div class="line"><span class="lineno">  140</span>        bind(Socket, (<span class="keyword">const</span> <span class="keyword">struct</span> sockaddr *)&amp;SourceIP, SourceLen);</div>
<div class="line"><span class="lineno">  141</span> </div>
<div class="line"><span class="lineno">  142</span>        NewStruct-&gt;<a class="code hl_variable" href="_private_8h.html#a29b73b7779f2d32718ce4ed9863ce954">Target</a>.sin_family = AF_INET;</div>
<div class="line"><span class="lineno">  143</span>        NewStruct-&gt;<a class="code hl_variable" href="_private_8h.html#a29b73b7779f2d32718ce4ed9863ce954">Target</a>.sin_addr.s_addr = inet_addr(AddrBuffer);</div>
<div class="line"><span class="lineno">  144</span>        NewStruct-&gt;<a class="code hl_variable" href="_private_8h.html#a29b73b7779f2d32718ce4ed9863ce954">Target</a>.sin_port = htons(atoi(PortBuffer));</div>
<div class="line"><span class="lineno">  145</span>    }</div>
<div class="line"><span class="lineno">  146</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Type==<a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a53918fd9b48e787527f096f885151356afd47e02e5c2c045a63e45465d72016e4">ZESTETM1_TYPE_TCP</a>)</div>
<div class="line"><span class="lineno">  147</span>    {</div>
<div class="line"><span class="lineno">  148</span>        <span class="comment">// Open TCP connection</span></div>
<div class="line"><span class="lineno">  149</span>        <span class="keyword">struct </span>addrinfo *AddrResult = NULL,</div>
<div class="line"><span class="lineno">  150</span>                        *Ptr = NULL,</div>
<div class="line"><span class="lineno">  151</span>                        Hints;</div>
<div class="line"><span class="lineno">  152</span>        <span class="keywordtype">int</span> Result;</div>
<div class="line"><span class="lineno">  153</span>        <span class="keyword">struct </span>sockaddr_in SourceIP;</div>
<div class="line"><span class="lineno">  154</span>        <span class="keywordtype">int</span> SourceLen = (int)<span class="keyword">sizeof</span>(<span class="keyword">struct</span> sockaddr_in);</div>
<div class="line"><span class="lineno">  155</span> </div>
<div class="line"><span class="lineno">  156</span>        memset(&amp;Hints, 0, <span class="keyword">sizeof</span>(Hints));</div>
<div class="line"><span class="lineno">  157</span>        Hints.ai_family = AF_UNSPEC;</div>
<div class="line"><span class="lineno">  158</span>        Hints.ai_socktype = SOCK_STREAM;</div>
<div class="line"><span class="lineno">  159</span>        Hints.ai_protocol = IPPROTO_TCP;</div>
<div class="line"><span class="lineno">  160</span> </div>
<div class="line"><span class="lineno">  161</span>        <span class="comment">// Resolve the server address and port</span></div>
<div class="line"><span class="lineno">  162</span>        Result = getaddrinfo(AddrBuffer, PortBuffer, &amp;Hints, &amp;AddrResult);</div>
<div class="line"><span class="lineno">  163</span>        <span class="keywordflow">if</span> (Result!=0)</div>
<div class="line"><span class="lineno">  164</span>        {</div>
<div class="line"><span class="lineno">  165</span>            free(NewStruct);</div>
<div class="line"><span class="lineno">  166</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceaba3fba885078b9eaf05d9cd7945b9b1d15">ZESTETM1_SOCKET_ERROR</a>;</div>
<div class="line"><span class="lineno">  167</span>        }</div>
<div class="line"><span class="lineno">  168</span> </div>
<div class="line"><span class="lineno">  169</span>        <span class="comment">// Attempt to connect to an address until one succeeds</span></div>
<div class="line"><span class="lineno">  170</span>        <span class="keywordflow">for</span> (Ptr=AddrResult; Ptr!=NULL; Ptr=Ptr-&gt;ai_next)</div>
<div class="line"><span class="lineno">  171</span>        {</div>
<div class="line"><span class="lineno">  172</span>            <span class="comment">// Create a SOCKET for connecting to server</span></div>
<div class="line"><span class="lineno">  173</span>            Socket = socket(Ptr-&gt;ai_family, Ptr-&gt;ai_socktype, </div>
<div class="line"><span class="lineno">  174</span>                            Ptr-&gt;ai_protocol);</div>
<div class="line"><span class="lineno">  175</span>            <span class="keywordflow">if</span> (Socket&lt;0)</div>
<div class="line"><span class="lineno">  176</span>            {</div>
<div class="line"><span class="lineno">  177</span>                freeaddrinfo(AddrResult);</div>
<div class="line"><span class="lineno">  178</span>                free(NewStruct);</div>
<div class="line"><span class="lineno">  179</span>                <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceaba3fba885078b9eaf05d9cd7945b9b1d15">ZESTETM1_SOCKET_ERROR</a>;</div>
<div class="line"><span class="lineno">  180</span>            }</div>
<div class="line"><span class="lineno">  181</span> </div>
<div class="line"><span class="lineno">  182</span>            <span class="comment">// Connect to ZestETM1</span></div>
<div class="line"><span class="lineno">  183</span>            Result = connect(Socket, Ptr-&gt;ai_addr, (<span class="keywordtype">int</span>)Ptr-&gt;ai_addrlen);</div>
<div class="line"><span class="lineno">  184</span>            <span class="keywordflow">if</span> (Result&lt;0)</div>
<div class="line"><span class="lineno">  185</span>            {</div>
<div class="line"><span class="lineno">  186</span>                <a class="code hl_define" href="_private_8h.html#afdbb9d84bd17efd2ae7290e664992c48">closesocket</a>(Socket);</div>
<div class="line"><span class="lineno">  187</span>                Socket = -1;</div>
<div class="line"><span class="lineno">  188</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  189</span>            }</div>
<div class="line"><span class="lineno">  190</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  191</span>        }</div>
<div class="line"><span class="lineno">  192</span> </div>
<div class="line"><span class="lineno">  193</span>        SourceIP.sin_family = AF_INET;</div>
<div class="line"><span class="lineno">  194</span>        SourceIP.sin_addr.s_addr = htonl(INADDR_ANY);</div>
<div class="line"><span class="lineno">  195</span>        SourceIP.sin_port = 0;</div>
<div class="line"><span class="lineno">  196</span>        bind(Socket, (<span class="keyword">const</span> <span class="keyword">struct</span> sockaddr *)&amp;SourceIP, SourceLen);</div>
<div class="line"><span class="lineno">  197</span>        freeaddrinfo(AddrResult);</div>
<div class="line"><span class="lineno">  198</span>    }</div>
<div class="line"><span class="lineno">  199</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  200</span>    {</div>
<div class="line"><span class="lineno">  201</span>        free(NewStruct);</div>
<div class="line"><span class="lineno">  202</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceaba0d5fd106f3dc6e8ade31af0a7ae55785">ZESTETM1_INVALID_CONNECTION_TYPE</a>;</div>
<div class="line"><span class="lineno">  203</span>    }</div>
<div class="line"><span class="lineno">  204</span> </div>
<div class="line"><span class="lineno">  205</span>    <span class="keywordflow">if</span> (Socket==-1)</div>
<div class="line"><span class="lineno">  206</span>    {</div>
<div class="line"><span class="lineno">  207</span>        free(NewStruct);</div>
<div class="line"><span class="lineno">  208</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceaba3fba885078b9eaf05d9cd7945b9b1d15">ZESTETM1_SOCKET_ERROR</a>;</div>
<div class="line"><span class="lineno">  209</span>    }</div>
<div class="line"><span class="lineno">  210</span> </div>
<div class="line"><span class="lineno">  211</span>    NewStruct-&gt;<a class="code hl_variable" href="_private_8h.html#a2931f23afdf4bf714a154be070faacda">Magic</a> = <a class="code hl_define" href="_private_8h.html#ad83890cd32872afafc76c96d430d195c">ZESTETM1_CONNECTION_HANDLE_MAGIC</a>;</div>
<div class="line"><span class="lineno">  212</span>    NewStruct-&gt;<a class="code hl_variable" href="_private_8h.html#a2a70773246272abd3f5bc99f80c7d12e">Type</a> = Type;</div>
<div class="line"><span class="lineno">  213</span>    NewStruct-&gt;<a class="code hl_variable" href="_private_8h.html#aecd093ddda22bf782c3379c76a035e93">Port</a> = Port;</div>
<div class="line"><span class="lineno">  214</span>    NewStruct-&gt;<a class="code hl_variable" href="_private_8h.html#aa7736e169f8e6fdd9b681a877de45936">LocalPort</a> = LocalPort;</div>
<div class="line"><span class="lineno">  215</span>    NewStruct-&gt;<a class="code hl_variable" href="_private_8h.html#a220bb8321d7b31637cf206a50c2c6141">Socket</a> = Socket;</div>
<div class="line"><span class="lineno">  216</span>    NewStruct-&gt;<a class="code hl_variable" href="_private_8h.html#a649ba556332ec87e0351eba343e200b7">CardInfo</a> = CardInfo;</div>
<div class="line"><span class="lineno">  217</span>    *Connection = NewStruct;</div>
<div class="line"><span class="lineno">  218</span> </div>
<div class="line"><span class="lineno">  219</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceaba43f49fc93d052e75591d50b1c057c087">ZESTETM1_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  220</span>}</div>
<div class="ttc" id="a_private_8h_html_a29b73b7779f2d32718ce4ed9863ce954"><div class="ttname"><a href="_private_8h.html#a29b73b7779f2d32718ce4ed9863ce954">ZESTETM1_CONNECTION_STRUCT::Target</a></div><div class="ttdeci">struct sockaddr_in Target</div><div class="ttdef"><b>Definition</b> <a href="_private_8h_source.html#l00098">Private.h:98</a></div></div>
<div class="ttc" id="a_private_8h_html_a2a70773246272abd3f5bc99f80c7d12e"><div class="ttname"><a href="_private_8h.html#a2a70773246272abd3f5bc99f80c7d12e">ZESTETM1_CONNECTION_STRUCT::Type</a></div><div class="ttdeci">ZESTETM1_CONNECTION_TYPE Type</div><div class="ttdef"><b>Definition</b> <a href="_private_8h_source.html#l00097">Private.h:97</a></div></div>
<div class="ttc" id="a_private_8h_html_a649ba556332ec87e0351eba343e200b7"><div class="ttname"><a href="_private_8h.html#a649ba556332ec87e0351eba343e200b7">ZESTETM1_CONNECTION_STRUCT::CardInfo</a></div><div class="ttdeci">ZESTETM1_CARD_INFO * CardInfo</div><div class="ttdef"><b>Definition</b> <a href="_private_8h_source.html#l00096">Private.h:96</a></div></div>
<div class="ttc" id="a_private_8h_html_a8dc8083897335125630f1af5dafd5831"><div class="ttname"><a href="_private_8h.html#a8dc8083897335125630f1af5dafd5831">SOCKET</a></div><div class="ttdeci">int SOCKET</div><div class="ttdef"><b>Definition</b> <a href="_private_8h_source.html#l00056">Private.h:56</a></div></div>
<div class="ttc" id="a_private_8h_html_aa7736e169f8e6fdd9b681a877de45936"><div class="ttname"><a href="_private_8h.html#aa7736e169f8e6fdd9b681a877de45936">ZESTETM1_CONNECTION_STRUCT::LocalPort</a></div><div class="ttdeci">uint16_t LocalPort</div><div class="ttdef"><b>Definition</b> <a href="_private_8h_source.html#l00100">Private.h:100</a></div></div>
<div class="ttc" id="a_private_8h_html_aecd093ddda22bf782c3379c76a035e93"><div class="ttname"><a href="_private_8h.html#aecd093ddda22bf782c3379c76a035e93">ZESTETM1_CONNECTION_STRUCT::Port</a></div><div class="ttdeci">uint16_t Port</div><div class="ttdef"><b>Definition</b> <a href="_private_8h_source.html#l00099">Private.h:99</a></div></div>
<div class="ttc" id="a_zest_e_t_m1_8h_html_a08b73d24e4c63b14689ce5497acdceaba0d5fd106f3dc6e8ade31af0a7ae55785"><div class="ttname"><a href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceaba0d5fd106f3dc6e8ade31af0a7ae55785">ZESTETM1_INVALID_CONNECTION_TYPE</a></div><div class="ttdeci">@ ZESTETM1_INVALID_CONNECTION_TYPE</div><div class="ttdef"><b>Definition</b> <a href="_zest_e_t_m1_8h_source.html#l00090">ZestETM1.h:90</a></div></div>
<div class="ttc" id="a_zest_e_t_m1_8h_html_a08b73d24e4c63b14689ce5497acdceaba3fba885078b9eaf05d9cd7945b9b1d15"><div class="ttname"><a href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceaba3fba885078b9eaf05d9cd7945b9b1d15">ZESTETM1_SOCKET_ERROR</a></div><div class="ttdeci">@ ZESTETM1_SOCKET_ERROR</div><div class="ttdef"><b>Definition</b> <a href="_zest_e_t_m1_8h_source.html#l00085">ZestETM1.h:85</a></div></div>
<div class="ttc" id="a_zest_e_t_m1_8h_html_a08b73d24e4c63b14689ce5497acdceabae05f1acc940ef1c0aedb66260740c0d7"><div class="ttname"><a href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceabae05f1acc940ef1c0aedb66260740c0d7">ZESTETM1_OUT_OF_MEMORY</a></div><div class="ttdeci">@ ZESTETM1_OUT_OF_MEMORY</div><div class="ttdef"><b>Definition</b> <a href="_zest_e_t_m1_8h_source.html#l00089">ZestETM1.h:89</a></div></div>
<div class="ttc" id="a_zest_e_t_m1_8h_html_a53918fd9b48e787527f096f885151356a4542bc53b93b68a960b819134cd338f1"><div class="ttname"><a href="_zest_e_t_m1_8h.html#a53918fd9b48e787527f096f885151356a4542bc53b93b68a960b819134cd338f1">ZESTETM1_TYPE_UDP</a></div><div class="ttdeci">@ ZESTETM1_TYPE_UDP</div><div class="ttdef"><b>Definition</b> <a href="_zest_e_t_m1_8h_source.html#l00060">ZestETM1.h:59</a></div></div>
<div class="ttc" id="a_zest_e_t_m1_8h_html_a53918fd9b48e787527f096f885151356afd47e02e5c2c045a63e45465d72016e4"><div class="ttname"><a href="_zest_e_t_m1_8h.html#a53918fd9b48e787527f096f885151356afd47e02e5c2c045a63e45465d72016e4">ZESTETM1_TYPE_TCP</a></div><div class="ttdeci">@ ZESTETM1_TYPE_TCP</div><div class="ttdef"><b>Definition</b> <a href="_zest_e_t_m1_8h_source.html#l00058">ZestETM1.h:58</a></div></div>
<div class="ttc" id="a_zest_e_t_m1_8h_html_ab3aa9cb6abcc10322be702210423ae8d"><div class="ttname"><a href="_zest_e_t_m1_8h.html#ab3aa9cb6abcc10322be702210423ae8d">ZESTETM1_CARD_INFO::IPAddr</a></div><div class="ttdeci">unsigned char IPAddr[4]</div><div class="ttdef"><b>Definition</b> <a href="_zest_e_t_m1_8h_source.html#l00033">ZestETM1.h:33</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad89ae60c4229b7e918bb5290dfcaf73b" name="ad89ae60c4229b7e918bb5290dfcaf73b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad89ae60c4229b7e918bb5290dfcaf73b">&#9670;&#160;</a></span>ZestETM1_ReadData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceab">ZESTETM1_STATUS</a> ZestETM1_ReadData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_zest_e_t_m1_8h.html#a29638fdf927ddaa8348fb861c075cbd1">ZESTETM1_CONNECTION</a></td>          <td class="paramname"><span class="paramname"><em>Connection</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>Buffer</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>Length</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long *</td>          <td class="paramname"><span class="paramname"><em>Read</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>Timeout</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_data_8c_source.html#l00358">358</a> of file <a class="el" href="_data_8c_source.html">Data.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  363</span>{</div>
<div class="line"><span class="lineno">  364</span>    <a class="code hl_struct" href="_private_8h.html#struct_z_e_s_t_e_t_m1___c_o_n_n_e_c_t_i_o_n___s_t_r_u_c_t">ZESTETM1_CONNECTION_STRUCT</a> *Conn = (<a class="code hl_struct" href="_private_8h.html#struct_z_e_s_t_e_t_m1___c_o_n_n_e_c_t_i_o_n___s_t_r_u_c_t">ZESTETM1_CONNECTION_STRUCT</a> *)Connection;</div>
<div class="line"><span class="lineno">  365</span>    fd_set ReadFDS;</div>
<div class="line"><span class="lineno">  366</span>    <span class="keyword">struct </span>timeval Time;</div>
<div class="line"><span class="lineno">  367</span>    uint32_t BufferPtr = 0;</div>
<div class="line"><span class="lineno">  368</span>    <span class="keywordtype">int</span> Result;</div>
<div class="line"><span class="lineno">  369</span>    <span class="keyword">struct </span>sockaddr_in Target;</div>
<div class="line"><span class="lineno">  370</span>    <span class="keywordtype">int</span> TargetLen = (int)<span class="keyword">sizeof</span>(<span class="keyword">struct</span> sockaddr_in);</div>
<div class="line"><span class="lineno">  371</span> </div>
<div class="line"><span class="lineno">  372</span>    <span class="keywordflow">if</span> (Conn==NULL)</div>
<div class="line"><span class="lineno">  373</span>    {</div>
<div class="line"><span class="lineno">  374</span>        <span class="keywordflow">if</span> (Read!=NULL) *Read = 0;</div>
<div class="line"><span class="lineno">  375</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceabade3b30f0aeb809be16abf17a911a2e34">ZESTETM1_NULL_PARAMETER</a>;</div>
<div class="line"><span class="lineno">  376</span>    }</div>
<div class="line"><span class="lineno">  377</span>    <span class="keywordflow">if</span> (Conn-&gt;<a class="code hl_variable" href="_private_8h.html#a2931f23afdf4bf714a154be070faacda">Magic</a>!=<a class="code hl_define" href="_private_8h.html#ad83890cd32872afafc76c96d430d195c">ZESTETM1_CONNECTION_HANDLE_MAGIC</a>)</div>
<div class="line"><span class="lineno">  378</span>    {</div>
<div class="line"><span class="lineno">  379</span>        <span class="keywordflow">if</span> (Read!=NULL) *Read = 0;</div>
<div class="line"><span class="lineno">  380</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceabad8aa2db3fe0408d026d02324e7ac31ca">ZESTETM1_ILLEGAL_CONNECTION</a>;</div>
<div class="line"><span class="lineno">  381</span>    }</div>
<div class="line"><span class="lineno">  382</span> </div>
<div class="line"><span class="lineno">  383</span>    <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno">  384</span>    {</div>
<div class="line"><span class="lineno">  385</span>        <span class="keywordtype">int</span> OK = 1;</div>
<div class="line"><span class="lineno">  386</span> </div>
<div class="line"><span class="lineno">  387</span>        <span class="comment">// Wait for socket to become ready</span></div>
<div class="line"><span class="lineno">  388</span>        {</div>
<div class="line"><span class="lineno">  389</span>            <span class="keywordtype">int</span> CurTime = 0;</div>
<div class="line"><span class="lineno">  390</span>            <span class="keywordflow">while</span> (CurTime!=Timeout)</div>
<div class="line"><span class="lineno">  391</span>            {</div>
<div class="line"><span class="lineno">  392</span>                <span class="keywordtype">int</span> T = (Timeout-CurTime)&lt;1000 ? Timeout-CurTime : 1000;</div>
<div class="line"><span class="lineno">  393</span>                FD_ZERO(&amp;ReadFDS);</div>
<div class="line"><span class="lineno">  394</span>                FD_SET(Conn-&gt;<a class="code hl_variable" href="_private_8h.html#a220bb8321d7b31637cf206a50c2c6141">Socket</a>, &amp;ReadFDS);</div>
<div class="line"><span class="lineno">  395</span>                Time.tv_sec = T/1000;</div>
<div class="line"><span class="lineno">  396</span>                Time.tv_usec = (T%1000)*1000;</div>
<div class="line"><span class="lineno">  397</span>                Result = select((<span class="keywordtype">int</span>)Conn-&gt;<a class="code hl_variable" href="_private_8h.html#a220bb8321d7b31637cf206a50c2c6141">Socket</a>+1, &amp;ReadFDS, NULL, NULL, &amp;Time);</div>
<div class="line"><span class="lineno">  398</span>                <span class="keywordflow">if</span> (Result&gt;0) <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  399</span>                CurTime+=T;</div>
<div class="line"><span class="lineno">  400</span>            }</div>
<div class="line"><span class="lineno">  401</span>        }</div>
<div class="line"><span class="lineno">  402</span>        <span class="keywordflow">if</span> (Result&lt;0 || !FD_ISSET(Conn-&gt;<a class="code hl_variable" href="_private_8h.html#a220bb8321d7b31637cf206a50c2c6141">Socket</a>, &amp;ReadFDS))</div>
<div class="line"><span class="lineno">  403</span>        {</div>
<div class="line"><span class="lineno">  404</span>            <span class="keywordflow">if</span> (Read!=NULL) *Read = BufferPtr;</div>
<div class="line"><span class="lineno">  405</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceabab4c79e925b42d521a77e59464c1c735c">ZESTETM1_TIMEOUT</a>;<span class="comment">//FIXME: Any other errors?</span></div>
<div class="line"><span class="lineno">  406</span>        }</div>
<div class="line"><span class="lineno">  407</span> </div>
<div class="line"><span class="lineno">  408</span>        <span class="keywordflow">if</span> (Conn-&gt;<a class="code hl_variable" href="_private_8h.html#a2a70773246272abd3f5bc99f80c7d12e">Type</a>==<a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a53918fd9b48e787527f096f885151356a4542bc53b93b68a960b819134cd338f1">ZESTETM1_TYPE_UDP</a>)</div>
<div class="line"><span class="lineno">  409</span>        {</div>
<div class="line"><span class="lineno">  410</span>            Result = recvfrom(Conn-&gt;<a class="code hl_variable" href="_private_8h.html#a220bb8321d7b31637cf206a50c2c6141">Socket</a>, (<span class="keywordtype">char</span> *)Buffer+BufferPtr,</div>
<div class="line"><span class="lineno">  411</span>                              Length-BufferPtr, 0,</div>
<div class="line"><span class="lineno">  412</span>                              (<span class="keyword">struct</span> sockaddr *)&amp;Target, &amp;TargetLen);</div>
<div class="line"><span class="lineno">  413</span>            <span class="keywordflow">if</span> (Conn-&gt;<a class="code hl_variable" href="_private_8h.html#aa7736e169f8e6fdd9b681a877de45936">LocalPort</a>!=0 &amp;&amp; Target.sin_port!=htons(Conn-&gt;<a class="code hl_variable" href="_private_8h.html#aa7736e169f8e6fdd9b681a877de45936">LocalPort</a>))</div>
<div class="line"><span class="lineno">  414</span>                OK = 0;</div>
<div class="line"><span class="lineno">  415</span>        }</div>
<div class="line"><span class="lineno">  416</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Conn-&gt;<a class="code hl_variable" href="_private_8h.html#a2a70773246272abd3f5bc99f80c7d12e">Type</a>==<a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a53918fd9b48e787527f096f885151356afd47e02e5c2c045a63e45465d72016e4">ZESTETM1_TYPE_TCP</a>)</div>
<div class="line"><span class="lineno">  417</span>        {</div>
<div class="line"><span class="lineno">  418</span>            Result = recv(Conn-&gt;<a class="code hl_variable" href="_private_8h.html#a220bb8321d7b31637cf206a50c2c6141">Socket</a>, (<span class="keywordtype">char</span> *)Buffer+BufferPtr,</div>
<div class="line"><span class="lineno">  419</span>                         Length-BufferPtr, 0);</div>
<div class="line"><span class="lineno">  420</span>        }</div>
<div class="line"><span class="lineno">  421</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  422</span>        {</div>
<div class="line"><span class="lineno">  423</span>            <span class="keywordflow">if</span> (Read!=NULL) *Read = BufferPtr;</div>
<div class="line"><span class="lineno">  424</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceabad8aa2db3fe0408d026d02324e7ac31ca">ZESTETM1_ILLEGAL_CONNECTION</a>;</div>
<div class="line"><span class="lineno">  425</span>        }</div>
<div class="line"><span class="lineno">  426</span> </div>
<div class="line"><span class="lineno">  427</span>        <span class="comment">// Update counters</span></div>
<div class="line"><span class="lineno">  428</span>        <span class="keywordflow">if</span> (Result&gt;0 &amp;&amp; OK==1)</div>
<div class="line"><span class="lineno">  429</span>        {</div>
<div class="line"><span class="lineno">  430</span>            BufferPtr += Result;</div>
<div class="line"><span class="lineno">  431</span>        }</div>
<div class="line"><span class="lineno">  432</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Result==0)</div>
<div class="line"><span class="lineno">  433</span>        {</div>
<div class="line"><span class="lineno">  434</span>            <span class="comment">// Connection closed</span></div>
<div class="line"><span class="lineno">  435</span>            <span class="keywordflow">if</span> (Read!=NULL) *Read = BufferPtr;</div>
<div class="line"><span class="lineno">  436</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceaba939905b84c219796f3d69e74077abb32">ZESTETM1_SOCKET_CLOSED</a>;</div>
<div class="line"><span class="lineno">  437</span>        }</div>
<div class="line"><span class="lineno">  438</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Result&lt;0)</div>
<div class="line"><span class="lineno">  439</span>        {</div>
<div class="line"><span class="lineno">  440</span>            <span class="comment">// Socket error</span></div>
<div class="line"><span class="lineno">  441</span>            <span class="keywordflow">if</span> (Read!=NULL) *Read = BufferPtr;</div>
<div class="line"><span class="lineno">  442</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceaba3fba885078b9eaf05d9cd7945b9b1d15">ZESTETM1_SOCKET_ERROR</a>;</div>
<div class="line"><span class="lineno">  443</span>        }</div>
<div class="line"><span class="lineno">  444</span>    } <span class="keywordflow">while</span> (Result&gt;0 &amp;&amp; BufferPtr&lt;Length);</div>
<div class="line"><span class="lineno">  445</span> </div>
<div class="line"><span class="lineno">  446</span>    <span class="keywordflow">if</span> (Read!=NULL) *Read = BufferPtr;</div>
<div class="line"><span class="lineno">  447</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceaba43f49fc93d052e75591d50b1c057c087">ZESTETM1_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  448</span>}</div>
<div class="ttc" id="a_zest_e_t_m1_8h_html_a08b73d24e4c63b14689ce5497acdceaba939905b84c219796f3d69e74077abb32"><div class="ttname"><a href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceaba939905b84c219796f3d69e74077abb32">ZESTETM1_SOCKET_CLOSED</a></div><div class="ttdeci">@ ZESTETM1_SOCKET_CLOSED</div><div class="ttdef"><b>Definition</b> <a href="_zest_e_t_m1_8h_source.html#l00092">ZestETM1.h:92</a></div></div>
<div class="ttc" id="a_zest_e_t_m1_8h_html_a08b73d24e4c63b14689ce5497acdceabab4c79e925b42d521a77e59464c1c735c"><div class="ttname"><a href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceabab4c79e925b42d521a77e59464c1c735c">ZESTETM1_TIMEOUT</a></div><div class="ttdeci">@ ZESTETM1_TIMEOUT</div><div class="ttdef"><b>Definition</b> <a href="_zest_e_t_m1_8h_source.html#l00093">ZestETM1.h:93</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab83ba960dd2a6bd641392548b4f394dc" name="ab83ba960dd2a6bd641392548b4f394dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab83ba960dd2a6bd641392548b4f394dc">&#9670;&#160;</a></span>ZestETM1_SendCommand()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceab">ZESTETM1_STATUS</a> ZestETM1_SendCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_zest_e_t_m1_8h.html#struct_z_e_s_t_e_t_m1___c_a_r_d___i_n_f_o">ZESTETM1_CARD_INFO</a> *</td>          <td class="paramname"><span class="paramname"><em>CardInfo</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_zest_e_t_m1_8h.html#a29638fdf927ddaa8348fb861c075cbd1">ZESTETM1_CONNECTION</a></td>          <td class="paramname"><span class="paramname"><em>Connection</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>WriteBuffer</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>WriteLen</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>ReadBuffer</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>ReadLen</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>WaitForAck</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_data_8c_source.html#l00453">453</a> of file <a class="el" href="_data_8c_source.html">Data.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  458</span>{</div>
<div class="line"><span class="lineno">  459</span>    <a class="code hl_enumeration" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceab">ZESTETM1_STATUS</a> Result;</div>
<div class="line"><span class="lineno">  460</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> Written;</div>
<div class="line"><span class="lineno">  461</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> Received;</div>
<div class="line"><span class="lineno">  462</span> </div>
<div class="line"><span class="lineno">  463</span>    <span class="comment">// Send/receive data</span></div>
<div class="line"><span class="lineno">  464</span>    Result = <a class="code hl_function" href="#a2c81e471bdc4545cd0e36988ea72fe50">ZestETM1_WriteData</a>(Connection, WriteBuffer, WriteLen, &amp;Written,</div>
<div class="line"><span class="lineno">  465</span>                               CardInfo-&gt;<a class="code hl_variable" href="_zest_e_t_m1_8h.html#a6385cd6ace37d0e4f02462d0c1a82e1e">Timeout</a>);</div>
<div class="line"><span class="lineno">  466</span>    <span class="keywordflow">if</span> (Result!=<a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceaba43f49fc93d052e75591d50b1c057c087">ZESTETM1_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  467</span>    {</div>
<div class="line"><span class="lineno">  468</span>        <span class="keywordflow">return</span> Result;</div>
<div class="line"><span class="lineno">  469</span>    }</div>
<div class="line"><span class="lineno">  470</span>    <span class="keywordflow">if</span> (Written!=WriteLen)</div>
<div class="line"><span class="lineno">  471</span>    {</div>
<div class="line"><span class="lineno">  472</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceabaebe7416efb47a17ac9e01d04cb22bec9">ZESTETM1_INTERNAL_ERROR</a>;</div>
<div class="line"><span class="lineno">  473</span>    }</div>
<div class="line"><span class="lineno">  474</span>    *((uint8_t *)ReadBuffer) = 0;</div>
<div class="line"><span class="lineno">  475</span>    <span class="keywordflow">if</span> (WaitForAck==1)</div>
<div class="line"><span class="lineno">  476</span>    {</div>
<div class="line"><span class="lineno">  477</span>        Result = <a class="code hl_function" href="#ad89ae60c4229b7e918bb5290dfcaf73b">ZestETM1_ReadData</a>(Connection, ReadBuffer, ReadLen, &amp;Received,</div>
<div class="line"><span class="lineno">  478</span>                                  CardInfo-&gt;<a class="code hl_variable" href="_zest_e_t_m1_8h.html#a6385cd6ace37d0e4f02462d0c1a82e1e">Timeout</a>);</div>
<div class="line"><span class="lineno">  479</span>        <span class="keywordflow">if</span> (Result!=<a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceaba43f49fc93d052e75591d50b1c057c087">ZESTETM1_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  480</span>        {</div>
<div class="line"><span class="lineno">  481</span>            <span class="keywordflow">return</span> Result;</div>
<div class="line"><span class="lineno">  482</span>        }</div>
<div class="line"><span class="lineno">  483</span>        <span class="keywordflow">if</span> (Received!=ReadLen)</div>
<div class="line"><span class="lineno">  484</span>        {</div>
<div class="line"><span class="lineno">  485</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceabaebe7416efb47a17ac9e01d04cb22bec9">ZESTETM1_INTERNAL_ERROR</a>;</div>
<div class="line"><span class="lineno">  486</span>        }</div>
<div class="line"><span class="lineno">  487</span>    }</div>
<div class="line"><span class="lineno">  488</span> </div>
<div class="line"><span class="lineno">  489</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceaba43f49fc93d052e75591d50b1c057c087">ZESTETM1_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  490</span>}</div>
<div class="ttc" id="a_data_8c_html_a2c81e471bdc4545cd0e36988ea72fe50"><div class="ttname"><a href="#a2c81e471bdc4545cd0e36988ea72fe50">ZestETM1_WriteData</a></div><div class="ttdeci">static ZESTETM1_STATUS ZestETM1_WriteData(ZESTETM1_CONNECTION Connection, void *Buffer, uint32_t Length, unsigned long *Written, uint32_t Timeout)</div><div class="ttdef"><b>Definition</b> <a href="_data_8c_source.html#l00249">Data.c:249</a></div></div>
<div class="ttc" id="a_data_8c_html_ad89ae60c4229b7e918bb5290dfcaf73b"><div class="ttname"><a href="#ad89ae60c4229b7e918bb5290dfcaf73b">ZestETM1_ReadData</a></div><div class="ttdeci">static ZESTETM1_STATUS ZestETM1_ReadData(ZESTETM1_CONNECTION Connection, void *Buffer, uint32_t Length, unsigned long *Read, uint32_t Timeout)</div><div class="ttdef"><b>Definition</b> <a href="_data_8c_source.html#l00358">Data.c:358</a></div></div>
<div class="ttc" id="a_zest_e_t_m1_8h_html_a08b73d24e4c63b14689ce5497acdceab"><div class="ttname"><a href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceab">ZESTETM1_STATUS</a></div><div class="ttdeci">ZESTETM1_STATUS</div><div class="ttdef"><b>Definition</b> <a href="_zest_e_t_m1_8h_source.html#l00078">ZestETM1.h:79</a></div></div>
<div class="ttc" id="a_zest_e_t_m1_8h_html_a08b73d24e4c63b14689ce5497acdceabaebe7416efb47a17ac9e01d04cb22bec9"><div class="ttname"><a href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceabaebe7416efb47a17ac9e01d04cb22bec9">ZESTETM1_INTERNAL_ERROR</a></div><div class="ttdeci">@ ZESTETM1_INTERNAL_ERROR</div><div class="ttdef"><b>Definition</b> <a href="_zest_e_t_m1_8h_source.html#l00086">ZestETM1.h:86</a></div></div>
<div class="ttc" id="a_zest_e_t_m1_8h_html_a6385cd6ace37d0e4f02462d0c1a82e1e"><div class="ttname"><a href="_zest_e_t_m1_8h.html#a6385cd6ace37d0e4f02462d0c1a82e1e">ZESTETM1_CARD_INFO::Timeout</a></div><div class="ttdeci">unsigned long Timeout</div><div class="ttdef"><b>Definition</b> <a href="_zest_e_t_m1_8h_source.html#l00035">ZestETM1.h:35</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a501dee9164bf6da1d70a7307cb397ee8" name="a501dee9164bf6da1d70a7307cb397ee8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a501dee9164bf6da1d70a7307cb397ee8">&#9670;&#160;</a></span>ZestETM1_SPIReadWrite()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceab">ZESTETM1_STATUS</a> ZestETM1_SPIReadWrite </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_zest_e_t_m1_8h.html#struct_z_e_s_t_e_t_m1___c_a_r_d___i_n_f_o">ZESTETM1_CARD_INFO</a> *</td>          <td class="paramname"><span class="paramname"><em>CardInfo</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_zest_e_t_m1_8h.html#a29638fdf927ddaa8348fb861c075cbd1">ZESTETM1_CONNECTION</a></td>          <td class="paramname"><span class="paramname"><em>Connection</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>Device</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>WordLen</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *</td>          <td class="paramname"><span class="paramname"><em>WriteData</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *</td>          <td class="paramname"><span class="paramname"><em>ReadData</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>Length</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>ReleaseCS</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>WaitForAck</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_data_8c_source.html#l00495">495</a> of file <a class="el" href="_data_8c_source.html">Data.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  501</span>{</div>
<div class="line"><span class="lineno">  502</span>    uint8_t Buffer[65536];</div>
<div class="line"><span class="lineno">  503</span>    uint32_t *BufPtr;</div>
<div class="line"><span class="lineno">  504</span>    uint32_t i;</div>
<div class="line"><span class="lineno">  505</span>    <a class="code hl_enumeration" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceab">ZESTETM1_STATUS</a> Result;</div>
<div class="line"><span class="lineno">  506</span> </div>
<div class="line"><span class="lineno">  507</span>    <span class="comment">// Build command</span></div>
<div class="line"><span class="lineno">  508</span>    Buffer[0] = <a class="code hl_define" href="#a04197efe52be2e5fb6cd0bece8c60a83">ZESTETM1_COMMAND_SPI</a>;<span class="comment">// Command byte</span></div>
<div class="line"><span class="lineno">  509</span>    Buffer[1] = Device;             <span class="comment">// SPI device</span></div>
<div class="line"><span class="lineno">  510</span>    Buffer[2] = WordLen;            <span class="comment">// Word length</span></div>
<div class="line"><span class="lineno">  511</span>    Buffer[3] = ReleaseCS;          <span class="comment">// Release CS on completion</span></div>
<div class="line"><span class="lineno">  512</span>    BufPtr = (uint32_t *)(Buffer+4);</div>
<div class="line"><span class="lineno">  513</span> </div>
<div class="line"><span class="lineno">  514</span>    BufPtr[0] = WriteData==NULL ? 0 : <a class="code hl_define" href="_private_8h.html#a5415ab2a64768a7caaca96deeea73021">ZESTETM1_REVERSE</a>(Length);    <span class="comment">// Num words</span></div>
<div class="line"><span class="lineno">  515</span>    BufPtr[1] = ReadData==NULL ? 0 : <a class="code hl_define" href="_private_8h.html#a5415ab2a64768a7caaca96deeea73021">ZESTETM1_REVERSE</a>(Length);</div>
<div class="line"><span class="lineno">  516</span>    <span class="keywordflow">if</span> (WriteData!=NULL)</div>
<div class="line"><span class="lineno">  517</span>    {</div>
<div class="line"><span class="lineno">  518</span>        <span class="keywordflow">for</span> (i=0; i&lt;Length; i++)</div>
<div class="line"><span class="lineno">  519</span>        {</div>
<div class="line"><span class="lineno">  520</span>            BufPtr[2+i] = <a class="code hl_define" href="_private_8h.html#a5415ab2a64768a7caaca96deeea73021">ZESTETM1_REVERSE</a>(WriteData[i]);</div>
<div class="line"><span class="lineno">  521</span>        }</div>
<div class="line"><span class="lineno">  522</span>    }</div>
<div class="line"><span class="lineno">  523</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  524</span>        memset(BufPtr+2, 0, Length*4);</div>
<div class="line"><span class="lineno">  525</span> </div>
<div class="line"><span class="lineno">  526</span>    <span class="comment">// Send command</span></div>
<div class="line"><span class="lineno">  527</span>    Result = <a class="code hl_function" href="#ab83ba960dd2a6bd641392548b4f394dc">ZestETM1_SendCommand</a>(CardInfo, Connection, Buffer,</div>
<div class="line"><span class="lineno">  528</span>                                 WriteData==NULL ? 12 : 12+Length*4,</div>
<div class="line"><span class="lineno">  529</span>                                 Buffer, ReadData==NULL ? 4 : 4+Length*4,</div>
<div class="line"><span class="lineno">  530</span>                                 WaitForAck);</div>
<div class="line"><span class="lineno">  531</span>    <span class="keywordflow">if</span> (WaitForAck==0)</div>
<div class="line"><span class="lineno">  532</span>        <span class="keywordflow">return</span> Result;</div>
<div class="line"><span class="lineno">  533</span> </div>
<div class="line"><span class="lineno">  534</span>    <span class="comment">// Extract results</span></div>
<div class="line"><span class="lineno">  535</span>    <span class="keywordflow">if</span> (Buffer[0]!=<a class="code hl_define" href="#a04197efe52be2e5fb6cd0bece8c60a83">ZESTETM1_COMMAND_SPI</a> || Buffer[1]!=0)</div>
<div class="line"><span class="lineno">  536</span>    {</div>
<div class="line"><span class="lineno">  537</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceabaebe7416efb47a17ac9e01d04cb22bec9">ZESTETM1_INTERNAL_ERROR</a>;</div>
<div class="line"><span class="lineno">  538</span>    }</div>
<div class="line"><span class="lineno">  539</span> </div>
<div class="line"><span class="lineno">  540</span>    BufPtr = (uint32_t *)(Buffer+4);</div>
<div class="line"><span class="lineno">  541</span>    <span class="keywordflow">if</span> (ReadData!=NULL)</div>
<div class="line"><span class="lineno">  542</span>    {</div>
<div class="line"><span class="lineno">  543</span>        <span class="keywordflow">for</span> (i=0; i&lt;Length; i++)</div>
<div class="line"><span class="lineno">  544</span>        {</div>
<div class="line"><span class="lineno">  545</span>            ReadData[i] = <a class="code hl_define" href="_private_8h.html#a5415ab2a64768a7caaca96deeea73021">ZESTETM1_REVERSE</a>(BufPtr[i]);</div>
<div class="line"><span class="lineno">  546</span>        }</div>
<div class="line"><span class="lineno">  547</span>    }</div>
<div class="line"><span class="lineno">  548</span> </div>
<div class="line"><span class="lineno">  549</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceaba43f49fc93d052e75591d50b1c057c087">ZESTETM1_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  550</span>}</div>
<div class="ttc" id="a_data_8c_html_a04197efe52be2e5fb6cd0bece8c60a83"><div class="ttname"><a href="#a04197efe52be2e5fb6cd0bece8c60a83">ZESTETM1_COMMAND_SPI</a></div><div class="ttdeci">#define ZESTETM1_COMMAND_SPI</div><div class="ttdef"><b>Definition</b> <a href="_data_8c_source.html#l00093">Data.c:93</a></div></div>
<div class="ttc" id="a_data_8c_html_ab83ba960dd2a6bd641392548b4f394dc"><div class="ttname"><a href="#ab83ba960dd2a6bd641392548b4f394dc">ZestETM1_SendCommand</a></div><div class="ttdeci">ZESTETM1_STATUS ZestETM1_SendCommand(ZESTETM1_CARD_INFO *CardInfo, ZESTETM1_CONNECTION Connection, void *WriteBuffer, uint32_t WriteLen, void *ReadBuffer, uint32_t ReadLen, int WaitForAck)</div><div class="ttdef"><b>Definition</b> <a href="_data_8c_source.html#l00453">Data.c:453</a></div></div>
<div class="ttc" id="a_private_8h_html_a5415ab2a64768a7caaca96deeea73021"><div class="ttname"><a href="_private_8h.html#a5415ab2a64768a7caaca96deeea73021">ZESTETM1_REVERSE</a></div><div class="ttdeci">#define ZESTETM1_REVERSE(x)</div><div class="ttdef"><b>Definition</b> <a href="_private_8h_source.html#l00116">Private.h:116</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2c81e471bdc4545cd0e36988ea72fe50" name="a2c81e471bdc4545cd0e36988ea72fe50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c81e471bdc4545cd0e36988ea72fe50">&#9670;&#160;</a></span>ZestETM1_WriteData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceab">ZESTETM1_STATUS</a> ZestETM1_WriteData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_zest_e_t_m1_8h.html#a29638fdf927ddaa8348fb861c075cbd1">ZESTETM1_CONNECTION</a></td>          <td class="paramname"><span class="paramname"><em>Connection</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>Buffer</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>Length</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long *</td>          <td class="paramname"><span class="paramname"><em>Written</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>Timeout</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_data_8c_source.html#l00249">249</a> of file <a class="el" href="_data_8c_source.html">Data.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  254</span>{</div>
<div class="line"><span class="lineno">  255</span>    <a class="code hl_struct" href="_private_8h.html#struct_z_e_s_t_e_t_m1___c_o_n_n_e_c_t_i_o_n___s_t_r_u_c_t">ZESTETM1_CONNECTION_STRUCT</a> *Conn = (<a class="code hl_struct" href="_private_8h.html#struct_z_e_s_t_e_t_m1___c_o_n_n_e_c_t_i_o_n___s_t_r_u_c_t">ZESTETM1_CONNECTION_STRUCT</a> *)Connection;</div>
<div class="line"><span class="lineno">  256</span>    fd_set WriteFDS;</div>
<div class="line"><span class="lineno">  257</span>    <span class="keyword">struct </span>timeval Time;</div>
<div class="line"><span class="lineno">  258</span>    uint32_t BufferPtr = 0;</div>
<div class="line"><span class="lineno">  259</span>    <span class="keywordtype">int</span> Result;</div>
<div class="line"><span class="lineno">  260</span>    <span class="keywordtype">int</span> TargetLen = (int)<span class="keyword">sizeof</span>(<span class="keyword">struct</span> sockaddr_in);</div>
<div class="line"><span class="lineno">  261</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> MaxSize;</div>
<div class="line"><span class="lineno">  262</span> </div>
<div class="line"><span class="lineno">  263</span>    <span class="keywordflow">if</span> (Conn==NULL)</div>
<div class="line"><span class="lineno">  264</span>    {</div>
<div class="line"><span class="lineno">  265</span>        <span class="keywordflow">if</span> (Written!=NULL) *Written = 0;</div>
<div class="line"><span class="lineno">  266</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceabade3b30f0aeb809be16abf17a911a2e34">ZESTETM1_NULL_PARAMETER</a>;</div>
<div class="line"><span class="lineno">  267</span>    }</div>
<div class="line"><span class="lineno">  268</span>    <span class="keywordflow">if</span> (Conn-&gt;<a class="code hl_variable" href="_private_8h.html#a2931f23afdf4bf714a154be070faacda">Magic</a>!=<a class="code hl_define" href="_private_8h.html#ad83890cd32872afafc76c96d430d195c">ZESTETM1_CONNECTION_HANDLE_MAGIC</a>)</div>
<div class="line"><span class="lineno">  269</span>    {</div>
<div class="line"><span class="lineno">  270</span>        <span class="keywordflow">if</span> (Written!=NULL) *Written = 0;</div>
<div class="line"><span class="lineno">  271</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceabad8aa2db3fe0408d026d02324e7ac31ca">ZESTETM1_ILLEGAL_CONNECTION</a>;</div>
<div class="line"><span class="lineno">  272</span>    }</div>
<div class="line"><span class="lineno">  273</span> </div>
<div class="line"><span class="lineno">  274</span>    <span class="keywordflow">if</span> (Conn-&gt;<a class="code hl_variable" href="_private_8h.html#a2a70773246272abd3f5bc99f80c7d12e">Type</a>==<a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a53918fd9b48e787527f096f885151356a4542bc53b93b68a960b819134cd338f1">ZESTETM1_TYPE_UDP</a>)</div>
<div class="line"><span class="lineno">  275</span>    {</div>
<div class="line"><span class="lineno">  276</span>        <span class="comment">// Get maximum transfer size</span></div>
<div class="line"><span class="lineno">  277</span><span class="preprocessor">#if defined(MSVC) || defined(WINGCC)</span></div>
<div class="line"><span class="lineno">  278</span>        <span class="keywordtype">int</span> MaxSizeLen = <span class="keyword">sizeof</span>(MaxSize);</div>
<div class="line"><span class="lineno">  279</span>        getsockopt(Conn-&gt;<a class="code hl_variable" href="_private_8h.html#a220bb8321d7b31637cf206a50c2c6141">Socket</a>, SOL_SOCKET, SO_MAX_MSG_SIZE, </div>
<div class="line"><span class="lineno">  280</span>                   (<span class="keywordtype">char</span> *)&amp;MaxSize, &amp;MaxSizeLen);</div>
<div class="line"><span class="lineno">  281</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  282</span>        <span class="comment">//FIXME: Linux doesn&#39;t support SO_MAX_MSG_SIZE</span></div>
<div class="line"><span class="lineno">  283</span>        MaxSize = 65507;</div>
<div class="line"><span class="lineno">  284</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  285</span>    }</div>
<div class="line"><span class="lineno">  286</span> </div>
<div class="line"><span class="lineno">  287</span>    <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno">  288</span>    {</div>
<div class="line"><span class="lineno">  289</span>        uint32_t Bytes = Length-BufferPtr;</div>
<div class="line"><span class="lineno">  290</span> </div>
<div class="line"><span class="lineno">  291</span>        <span class="keywordflow">if</span> (Conn-&gt;<a class="code hl_variable" href="_private_8h.html#a2a70773246272abd3f5bc99f80c7d12e">Type</a>==<a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a53918fd9b48e787527f096f885151356a4542bc53b93b68a960b819134cd338f1">ZESTETM1_TYPE_UDP</a> &amp;&amp; Bytes&gt;MaxSize)</div>
<div class="line"><span class="lineno">  292</span>            Bytes = MaxSize;</div>
<div class="line"><span class="lineno">  293</span> </div>
<div class="line"><span class="lineno">  294</span>        <span class="comment">// Wait for socket to become ready</span></div>
<div class="line"><span class="lineno">  295</span>        {</div>
<div class="line"><span class="lineno">  296</span>            <span class="keywordtype">int</span> CurTime = 0;</div>
<div class="line"><span class="lineno">  297</span>            <span class="keywordflow">while</span> (CurTime!=Timeout)</div>
<div class="line"><span class="lineno">  298</span>            {</div>
<div class="line"><span class="lineno">  299</span>                <span class="keywordtype">int</span> T = (Timeout-CurTime)&lt;1000 ? Timeout-CurTime : 1000;</div>
<div class="line"><span class="lineno">  300</span>                FD_ZERO(&amp;WriteFDS);</div>
<div class="line"><span class="lineno">  301</span>                FD_SET(Conn-&gt;<a class="code hl_variable" href="_private_8h.html#a220bb8321d7b31637cf206a50c2c6141">Socket</a>, &amp;WriteFDS);</div>
<div class="line"><span class="lineno">  302</span>                Time.tv_sec = T/1000;</div>
<div class="line"><span class="lineno">  303</span>                Time.tv_usec = (T%1000)*1000;</div>
<div class="line"><span class="lineno">  304</span>                Result = select((<span class="keywordtype">int</span>)Conn-&gt;<a class="code hl_variable" href="_private_8h.html#a220bb8321d7b31637cf206a50c2c6141">Socket</a>+1, NULL, &amp;WriteFDS, NULL, &amp;Time);</div>
<div class="line"><span class="lineno">  305</span>                <span class="keywordflow">if</span> (Result&gt;0) <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  306</span>                CurTime+=T;</div>
<div class="line"><span class="lineno">  307</span>            }</div>
<div class="line"><span class="lineno">  308</span>        }</div>
<div class="line"><span class="lineno">  309</span>        <span class="keywordflow">if</span> (Result&lt;0 || !FD_ISSET(Conn-&gt;<a class="code hl_variable" href="_private_8h.html#a220bb8321d7b31637cf206a50c2c6141">Socket</a>, &amp;WriteFDS))</div>
<div class="line"><span class="lineno">  310</span>        {</div>
<div class="line"><span class="lineno">  311</span>            <span class="keywordflow">if</span> (Written!=NULL) *Written = BufferPtr;</div>
<div class="line"><span class="lineno">  312</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceabab4c79e925b42d521a77e59464c1c735c">ZESTETM1_TIMEOUT</a>;<span class="comment">//FIXME: Any other errors?</span></div>
<div class="line"><span class="lineno">  313</span>        }</div>
<div class="line"><span class="lineno">  314</span> </div>
<div class="line"><span class="lineno">  315</span>        <span class="keywordflow">if</span> (Conn-&gt;<a class="code hl_variable" href="_private_8h.html#a2a70773246272abd3f5bc99f80c7d12e">Type</a>==<a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a53918fd9b48e787527f096f885151356a4542bc53b93b68a960b819134cd338f1">ZESTETM1_TYPE_UDP</a>)</div>
<div class="line"><span class="lineno">  316</span>        {</div>
<div class="line"><span class="lineno">  317</span>            Result = sendto(Conn-&gt;<a class="code hl_variable" href="_private_8h.html#a220bb8321d7b31637cf206a50c2c6141">Socket</a>, (<span class="keywordtype">char</span> *)Buffer+BufferPtr,</div>
<div class="line"><span class="lineno">  318</span>                            Bytes, 0,</div>
<div class="line"><span class="lineno">  319</span>                            (<span class="keyword">struct</span> sockaddr *)&amp;Conn-&gt;<a class="code hl_variable" href="_private_8h.html#a29b73b7779f2d32718ce4ed9863ce954">Target</a>, TargetLen);</div>
<div class="line"><span class="lineno">  320</span>        }</div>
<div class="line"><span class="lineno">  321</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Conn-&gt;<a class="code hl_variable" href="_private_8h.html#a2a70773246272abd3f5bc99f80c7d12e">Type</a>==<a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a53918fd9b48e787527f096f885151356afd47e02e5c2c045a63e45465d72016e4">ZESTETM1_TYPE_TCP</a>)</div>
<div class="line"><span class="lineno">  322</span>        {</div>
<div class="line"><span class="lineno">  323</span>            Result = send(Conn-&gt;<a class="code hl_variable" href="_private_8h.html#a220bb8321d7b31637cf206a50c2c6141">Socket</a>, (<span class="keywordtype">char</span> *)Buffer+BufferPtr,</div>
<div class="line"><span class="lineno">  324</span>                          Bytes, 0);</div>
<div class="line"><span class="lineno">  325</span>        }</div>
<div class="line"><span class="lineno">  326</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  327</span>        {</div>
<div class="line"><span class="lineno">  328</span>            <span class="keywordflow">if</span> (Written!=NULL) *Written = BufferPtr;</div>
<div class="line"><span class="lineno">  329</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceabad8aa2db3fe0408d026d02324e7ac31ca">ZESTETM1_ILLEGAL_CONNECTION</a>;</div>
<div class="line"><span class="lineno">  330</span>        }</div>
<div class="line"><span class="lineno">  331</span> </div>
<div class="line"><span class="lineno">  332</span>        <span class="comment">// Update counters</span></div>
<div class="line"><span class="lineno">  333</span>        <span class="keywordflow">if</span> (Result&gt;0)</div>
<div class="line"><span class="lineno">  334</span>        {</div>
<div class="line"><span class="lineno">  335</span>            BufferPtr += Result;</div>
<div class="line"><span class="lineno">  336</span>        }</div>
<div class="line"><span class="lineno">  337</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Result==0)</div>
<div class="line"><span class="lineno">  338</span>        {</div>
<div class="line"><span class="lineno">  339</span>            <span class="comment">// Connection closed</span></div>
<div class="line"><span class="lineno">  340</span>            <span class="keywordflow">if</span> (Written!=NULL) *Written = BufferPtr;</div>
<div class="line"><span class="lineno">  341</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceaba939905b84c219796f3d69e74077abb32">ZESTETM1_SOCKET_CLOSED</a>;</div>
<div class="line"><span class="lineno">  342</span>        }</div>
<div class="line"><span class="lineno">  343</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  344</span>        {</div>
<div class="line"><span class="lineno">  345</span>            <span class="comment">// Socket error</span></div>
<div class="line"><span class="lineno">  346</span>            <span class="keywordflow">if</span> (Written!=NULL) *Written = BufferPtr;</div>
<div class="line"><span class="lineno">  347</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceaba3fba885078b9eaf05d9cd7945b9b1d15">ZESTETM1_SOCKET_ERROR</a>;</div>
<div class="line"><span class="lineno">  348</span>        }</div>
<div class="line"><span class="lineno">  349</span>    } <span class="keywordflow">while</span> (Result&gt;0 &amp;&amp; BufferPtr&lt;Length);</div>
<div class="line"><span class="lineno">  350</span> </div>
<div class="line"><span class="lineno">  351</span>    <span class="keywordflow">if</span> (Written!=NULL) *Written = BufferPtr;</div>
<div class="line"><span class="lineno">  352</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceaba43f49fc93d052e75591d50b1c057c087">ZESTETM1_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  353</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="abc71a57af493784e1084e79a0f210e99" name="abc71a57af493784e1084e79a0f210e99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc71a57af493784e1084e79a0f210e99">&#9670;&#160;</a></span>ZestETM1CloseConnection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceab">ZESTETM1_STATUS</a> ZestETM1CloseConnection </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_zest_e_t_m1_8h.html#a29638fdf927ddaa8348fb861c075cbd1">ZESTETM1_CONNECTION</a></td>          <td class="paramname"><span class="paramname"><em>Connection</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_data_8c_source.html#l00575">575</a> of file <a class="el" href="_data_8c_source.html">Data.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  576</span>{</div>
<div class="line"><span class="lineno">  577</span>    <a class="code hl_enumeration" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceab">ZESTETM1_STATUS</a> Result;</div>
<div class="line"><span class="lineno">  578</span>    <a class="code hl_struct" href="_private_8h.html#struct_z_e_s_t_e_t_m1___c_o_n_n_e_c_t_i_o_n___s_t_r_u_c_t">ZESTETM1_CONNECTION_STRUCT</a> *Conn = (<a class="code hl_struct" href="_private_8h.html#struct_z_e_s_t_e_t_m1___c_o_n_n_e_c_t_i_o_n___s_t_r_u_c_t">ZESTETM1_CONNECTION_STRUCT</a>*)Connection;</div>
<div class="line"><span class="lineno">  579</span> </div>
<div class="line"><span class="lineno">  580</span>    Result = <a class="code hl_function" href="#aa229ea144d975a4dd9438902f88a3f5a">ZestETM1_CloseConnection</a>(Connection);</div>
<div class="line"><span class="lineno">  581</span>    <span class="keywordflow">if</span> (Result!=<a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceaba43f49fc93d052e75591d50b1c057c087">ZESTETM1_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  582</span>    {</div>
<div class="line"><span class="lineno">  583</span>        <a class="code hl_define" href="_private_8h.html#a865c908bd6bbe85a777d0181be2f077b">ZESTETM1_ERROR_CONN</a>(<span class="stringliteral">&quot;ZestETM1CloseConnection&quot;</span>, Result);</div>
<div class="line"><span class="lineno">  584</span>    }</div>
<div class="line"><span class="lineno">  585</span> </div>
<div class="line"><span class="lineno">  586</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceaba43f49fc93d052e75591d50b1c057c087">ZESTETM1_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  587</span>}</div>
<div class="ttc" id="a_data_8c_html_aa229ea144d975a4dd9438902f88a3f5a"><div class="ttname"><a href="#aa229ea144d975a4dd9438902f88a3f5a">ZestETM1_CloseConnection</a></div><div class="ttdeci">ZESTETM1_STATUS ZestETM1_CloseConnection(ZESTETM1_CONNECTION Connection)</div><div class="ttdef"><b>Definition</b> <a href="_data_8c_source.html#l00225">Data.c:225</a></div></div>
<div class="ttc" id="a_private_8h_html_a865c908bd6bbe85a777d0181be2f077b"><div class="ttname"><a href="_private_8h.html#a865c908bd6bbe85a777d0181be2f077b">ZESTETM1_ERROR_CONN</a></div><div class="ttdeci">#define ZESTETM1_ERROR_CONN(f, x)</div><div class="ttdef"><b>Definition</b> <a href="_private_8h_source.html#l00077">Private.h:77</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab4c0ed51430b97f6d26eff0515f57de8" name="ab4c0ed51430b97f6d26eff0515f57de8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4c0ed51430b97f6d26eff0515f57de8">&#9670;&#160;</a></span>ZestETM1OpenConnection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceab">ZESTETM1_STATUS</a> ZestETM1OpenConnection </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_zest_e_t_m1_8h.html#struct_z_e_s_t_e_t_m1___c_a_r_d___i_n_f_o">ZESTETM1_CARD_INFO</a> *</td>          <td class="paramname"><span class="paramname"><em>CardInfo</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_zest_e_t_m1_8h.html#a53918fd9b48e787527f096f885151356">ZESTETM1_CONNECTION_TYPE</a></td>          <td class="paramname"><span class="paramname"><em>Type</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>Port</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>LocalPort</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_zest_e_t_m1_8h.html#a29638fdf927ddaa8348fb861c075cbd1">ZESTETM1_CONNECTION</a> *</td>          <td class="paramname"><span class="paramname"><em>Connection</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_data_8c_source.html#l00555">555</a> of file <a class="el" href="_data_8c_source.html">Data.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  560</span>{</div>
<div class="line"><span class="lineno">  561</span>    <a class="code hl_enumeration" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceab">ZESTETM1_STATUS</a> Result;</div>
<div class="line"><span class="lineno">  562</span> </div>
<div class="line"><span class="lineno">  563</span>    Result = <a class="code hl_function" href="#a575cbb65aeb0c15d5ffeb34e56034192">ZestETM1_OpenConnection</a>(CardInfo, Type, Port, LocalPort, Connection);</div>
<div class="line"><span class="lineno">  564</span>    <span class="keywordflow">if</span> (Result!=<a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceaba43f49fc93d052e75591d50b1c057c087">ZESTETM1_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  565</span>    {</div>
<div class="line"><span class="lineno">  566</span>        <a class="code hl_define" href="_private_8h.html#a9fa3960041700ec282eef18366e0c416">ZESTETM1_ERROR</a>(<span class="stringliteral">&quot;ZestETM1OpenConnection&quot;</span>, Result);</div>
<div class="line"><span class="lineno">  567</span>    }</div>
<div class="line"><span class="lineno">  568</span> </div>
<div class="line"><span class="lineno">  569</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceaba43f49fc93d052e75591d50b1c057c087">ZESTETM1_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  570</span>}</div>
<div class="ttc" id="a_data_8c_html_a575cbb65aeb0c15d5ffeb34e56034192"><div class="ttname"><a href="#a575cbb65aeb0c15d5ffeb34e56034192">ZestETM1_OpenConnection</a></div><div class="ttdeci">ZESTETM1_STATUS ZestETM1_OpenConnection(ZESTETM1_CARD_INFO *CardInfo, ZESTETM1_CONNECTION_TYPE Type, uint16_t Port, uint16_t LocalPort, ZESTETM1_CONNECTION *Connection)</div><div class="ttdef"><b>Definition</b> <a href="_data_8c_source.html#l00101">Data.c:101</a></div></div>
<div class="ttc" id="a_private_8h_html_a9fa3960041700ec282eef18366e0c416"><div class="ttname"><a href="_private_8h.html#a9fa3960041700ec282eef18366e0c416">ZESTETM1_ERROR</a></div><div class="ttdeci">#define ZESTETM1_ERROR(f, x)</div><div class="ttdef"><b>Definition</b> <a href="_private_8h_source.html#l00065">Private.h:65</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab877f729b40a0f8a2023188231a9d735" name="ab877f729b40a0f8a2023188231a9d735"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab877f729b40a0f8a2023188231a9d735">&#9670;&#160;</a></span>ZestETM1ReadData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceab">ZESTETM1_STATUS</a> ZestETM1ReadData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_zest_e_t_m1_8h.html#a29638fdf927ddaa8348fb861c075cbd1">ZESTETM1_CONNECTION</a></td>          <td class="paramname"><span class="paramname"><em>Connection</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>Buffer</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long</td>          <td class="paramname"><span class="paramname"><em>Length</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long *</td>          <td class="paramname"><span class="paramname"><em>Read</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long</td>          <td class="paramname"><span class="paramname"><em>Timeout</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_data_8c_source.html#l00613">613</a> of file <a class="el" href="_data_8c_source.html">Data.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  618</span>{</div>
<div class="line"><span class="lineno">  619</span>    <a class="code hl_enumeration" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceab">ZESTETM1_STATUS</a> Result;</div>
<div class="line"><span class="lineno">  620</span>    <a class="code hl_struct" href="_private_8h.html#struct_z_e_s_t_e_t_m1___c_o_n_n_e_c_t_i_o_n___s_t_r_u_c_t">ZESTETM1_CONNECTION_STRUCT</a> *Conn = (<a class="code hl_struct" href="_private_8h.html#struct_z_e_s_t_e_t_m1___c_o_n_n_e_c_t_i_o_n___s_t_r_u_c_t">ZESTETM1_CONNECTION_STRUCT</a>*)Connection;</div>
<div class="line"><span class="lineno">  621</span> </div>
<div class="line"><span class="lineno">  622</span>    Result = <a class="code hl_function" href="#ad89ae60c4229b7e918bb5290dfcaf73b">ZestETM1_ReadData</a>(Connection, Buffer, Length, Read, Timeout);</div>
<div class="line"><span class="lineno">  623</span>    <span class="keywordflow">if</span> (Result!=<a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceaba43f49fc93d052e75591d50b1c057c087">ZESTETM1_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  624</span>    {</div>
<div class="line"><span class="lineno">  625</span>        <a class="code hl_define" href="_private_8h.html#a865c908bd6bbe85a777d0181be2f077b">ZESTETM1_ERROR_CONN</a>(<span class="stringliteral">&quot;ZestETM1ReadData&quot;</span>, Result);</div>
<div class="line"><span class="lineno">  626</span>    }</div>
<div class="line"><span class="lineno">  627</span> </div>
<div class="line"><span class="lineno">  628</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceaba43f49fc93d052e75591d50b1c057c087">ZESTETM1_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  629</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="af92425059e6cff35f3669b29ef5ea3b1" name="af92425059e6cff35f3669b29ef5ea3b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af92425059e6cff35f3669b29ef5ea3b1">&#9670;&#160;</a></span>ZestETM1ReadRegister()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceab">ZESTETM1_STATUS</a> ZestETM1ReadRegister </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_zest_e_t_m1_8h.html#struct_z_e_s_t_e_t_m1___c_a_r_d___i_n_f_o">ZESTETM1_CARD_INFO</a> *</td>          <td class="paramname"><span class="paramname"><em>CardInfo</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long</td>          <td class="paramname"><span class="paramname"><em>Addr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short *</td>          <td class="paramname"><span class="paramname"><em>Data</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_data_8c_source.html#l00728">728</a> of file <a class="el" href="_data_8c_source.html">Data.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  729</span>{</div>
<div class="line"><span class="lineno">  730</span>    <a class="code hl_enumeration" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceab">ZESTETM1_STATUS</a> Result;</div>
<div class="line"><span class="lineno">  731</span>    <a class="code hl_typedef" href="_zest_e_t_m1_8h.html#a29638fdf927ddaa8348fb861c075cbd1">ZESTETM1_CONNECTION</a> Connection;</div>
<div class="line"><span class="lineno">  732</span>    <a class="code hl_struct" href="#struct_z_e_s_t_e_t_m1___r_e_a_d___r_e_g___c_m_d">ZESTETM1_READ_REG_CMD</a> Cmd;</div>
<div class="line"><span class="lineno">  733</span>    <a class="code hl_struct" href="#struct_z_e_s_t_e_t_m1___r_e_a_d___r_e_g___r_e_s_p_o_n_s_e">ZESTETM1_READ_REG_RESPONSE</a> Response;</div>
<div class="line"><span class="lineno">  734</span> </div>
<div class="line"><span class="lineno">  735</span>    <span class="keywordflow">if</span> (CardInfo==NULL || Data==NULL)</div>
<div class="line"><span class="lineno">  736</span>    {</div>
<div class="line"><span class="lineno">  737</span>        <a class="code hl_define" href="_private_8h.html#a9fa3960041700ec282eef18366e0c416">ZESTETM1_ERROR</a>(<span class="stringliteral">&quot;ZestETM1ReadRegister&quot;</span>, <a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceabade3b30f0aeb809be16abf17a911a2e34">ZESTETM1_NULL_PARAMETER</a>);</div>
<div class="line"><span class="lineno">  738</span>    }</div>
<div class="line"><span class="lineno">  739</span>    <span class="keywordflow">if</span> (Addr&gt;127)</div>
<div class="line"><span class="lineno">  740</span>    {</div>
<div class="line"><span class="lineno">  741</span>        <a class="code hl_define" href="_private_8h.html#a9fa3960041700ec282eef18366e0c416">ZESTETM1_ERROR</a>(<span class="stringliteral">&quot;ZestETM1ReadRegister&quot;</span>, <a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceaba266d885172b35cd447f7f0e671b12de1">ZESTETM1_ILLEGAL_PARAMETER</a>);</div>
<div class="line"><span class="lineno">  742</span>    }</div>
<div class="line"><span class="lineno">  743</span> </div>
<div class="line"><span class="lineno">  744</span>    Result = <a class="code hl_function" href="#a575cbb65aeb0c15d5ffeb34e56034192">ZestETM1_OpenConnection</a>(CardInfo, <a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a53918fd9b48e787527f096f885151356afd47e02e5c2c045a63e45465d72016e4">ZESTETM1_TYPE_TCP</a>, CardInfo-&gt;<a class="code hl_variable" href="_zest_e_t_m1_8h.html#a9030d582dbcc96b5622b254924fd3c0e">ControlPort</a>, 0, &amp;Connection);</div>
<div class="line"><span class="lineno">  745</span>    <span class="keywordflow">if</span> (Result!=<a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceaba43f49fc93d052e75591d50b1c057c087">ZESTETM1_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  746</span>    {</div>
<div class="line"><span class="lineno">  747</span>        <a class="code hl_define" href="_private_8h.html#a9fa3960041700ec282eef18366e0c416">ZESTETM1_ERROR</a>(<span class="stringliteral">&quot;ZestETM1ReadRegister&quot;</span>, Result);</div>
<div class="line"><span class="lineno">  748</span>    }</div>
<div class="line"><span class="lineno">  749</span> </div>
<div class="line"><span class="lineno">  750</span>    <span class="comment">// Read register from the device</span></div>
<div class="line"><span class="lineno">  751</span>    Cmd.<a class="code hl_variable" href="#a313b2c722fa653ac42a0e4c91ede36eb">Command</a> = <a class="code hl_define" href="#aac0655070dc4e12fc634331d3e773404">ZESTETM1_COMMAND_READ_REG</a>;</div>
<div class="line"><span class="lineno">  752</span>    Cmd.<a class="code hl_variable" href="#a319ed7cfd1f203f3d96ac95c64bca754">Addr</a> = (uint8_t)Addr;</div>
<div class="line"><span class="lineno">  753</span>    Result = <a class="code hl_function" href="#ab83ba960dd2a6bd641392548b4f394dc">ZestETM1_SendCommand</a>(CardInfo, Connection,</div>
<div class="line"><span class="lineno">  754</span>                                 &amp;Cmd, <span class="keyword">sizeof</span>(Cmd),</div>
<div class="line"><span class="lineno">  755</span>                                 &amp;Response, <span class="keyword">sizeof</span>(Response), 1);</div>
<div class="line"><span class="lineno">  756</span>    <span class="keywordflow">if</span> (Result!=<a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceaba43f49fc93d052e75591d50b1c057c087">ZESTETM1_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  757</span>    {</div>
<div class="line"><span class="lineno">  758</span>        <a class="code hl_function" href="#aa229ea144d975a4dd9438902f88a3f5a">ZestETM1_CloseConnection</a>(Connection);</div>
<div class="line"><span class="lineno">  759</span>        <a class="code hl_define" href="_private_8h.html#a9fa3960041700ec282eef18366e0c416">ZESTETM1_ERROR</a>(<span class="stringliteral">&quot;ZestETM1ReadRegister&quot;</span>, Result);</div>
<div class="line"><span class="lineno">  760</span>    }</div>
<div class="line"><span class="lineno">  761</span>    <span class="keywordflow">if</span> (Response.<a class="code hl_variable" href="#aeb8bfaf21244120bc56c7abf58f9d4f6">Command</a>!=Cmd.<a class="code hl_variable" href="#a313b2c722fa653ac42a0e4c91ede36eb">Command</a> || Response.<a class="code hl_variable" href="#afa5bac6b15fce8e5d6c6bd2ee90d4548">Status</a>!=0)</div>
<div class="line"><span class="lineno">  762</span>    {</div>
<div class="line"><span class="lineno">  763</span>        <a class="code hl_function" href="#aa229ea144d975a4dd9438902f88a3f5a">ZestETM1_CloseConnection</a>(Connection);</div>
<div class="line"><span class="lineno">  764</span>        <a class="code hl_define" href="_private_8h.html#a9fa3960041700ec282eef18366e0c416">ZESTETM1_ERROR</a>(<span class="stringliteral">&quot;ZestETM1ReadRegister&quot;</span>, <a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceabaebe7416efb47a17ac9e01d04cb22bec9">ZESTETM1_INTERNAL_ERROR</a>);</div>
<div class="line"><span class="lineno">  765</span>    }</div>
<div class="line"><span class="lineno">  766</span>    *Data = ((Response.<a class="code hl_variable" href="#a0a528e48cedec53411b3b7870da044d1">Value</a>&gt;&gt;8)&amp;0xff) | ((Response.<a class="code hl_variable" href="#a0a528e48cedec53411b3b7870da044d1">Value</a>&amp;0xff)&lt;&lt;8);</div>
<div class="line"><span class="lineno">  767</span> </div>
<div class="line"><span class="lineno">  768</span>    Result = <a class="code hl_function" href="#aa229ea144d975a4dd9438902f88a3f5a">ZestETM1_CloseConnection</a>(Connection);</div>
<div class="line"><span class="lineno">  769</span>    <span class="keywordflow">if</span> (Result!=<a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceaba43f49fc93d052e75591d50b1c057c087">ZESTETM1_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  770</span>    {</div>
<div class="line"><span class="lineno">  771</span>        <a class="code hl_define" href="_private_8h.html#a9fa3960041700ec282eef18366e0c416">ZESTETM1_ERROR</a>(<span class="stringliteral">&quot;ZestETM1ReadRegister&quot;</span>, Result);</div>
<div class="line"><span class="lineno">  772</span>    }</div>
<div class="line"><span class="lineno">  773</span> </div>
<div class="line"><span class="lineno">  774</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceaba43f49fc93d052e75591d50b1c057c087">ZESTETM1_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  775</span>}</div>
<div class="ttc" id="a_data_8c_html_a0a528e48cedec53411b3b7870da044d1"><div class="ttname"><a href="#a0a528e48cedec53411b3b7870da044d1">ZESTETM1_READ_REG_RESPONSE::Value</a></div><div class="ttdeci">uint16_t Value</div><div class="ttdef"><b>Definition</b> <a href="_data_8c_source.html#l00080">Data.c:80</a></div></div>
<div class="ttc" id="a_data_8c_html_a313b2c722fa653ac42a0e4c91ede36eb"><div class="ttname"><a href="#a313b2c722fa653ac42a0e4c91ede36eb">ZESTETM1_READ_REG_CMD::Command</a></div><div class="ttdeci">uint8_t Command</div><div class="ttdef"><b>Definition</b> <a href="_data_8c_source.html#l00072">Data.c:72</a></div></div>
<div class="ttc" id="a_data_8c_html_a319ed7cfd1f203f3d96ac95c64bca754"><div class="ttname"><a href="#a319ed7cfd1f203f3d96ac95c64bca754">ZESTETM1_READ_REG_CMD::Addr</a></div><div class="ttdeci">uint8_t Addr</div><div class="ttdef"><b>Definition</b> <a href="_data_8c_source.html#l00073">Data.c:73</a></div></div>
<div class="ttc" id="a_data_8c_html_aac0655070dc4e12fc634331d3e773404"><div class="ttname"><a href="#aac0655070dc4e12fc634331d3e773404">ZESTETM1_COMMAND_READ_REG</a></div><div class="ttdeci">#define ZESTETM1_COMMAND_READ_REG</div><div class="ttdef"><b>Definition</b> <a href="_data_8c_source.html#l00095">Data.c:95</a></div></div>
<div class="ttc" id="a_data_8c_html_aeb8bfaf21244120bc56c7abf58f9d4f6"><div class="ttname"><a href="#aeb8bfaf21244120bc56c7abf58f9d4f6">ZESTETM1_READ_REG_RESPONSE::Command</a></div><div class="ttdeci">uint8_t Command</div><div class="ttdef"><b>Definition</b> <a href="_data_8c_source.html#l00078">Data.c:78</a></div></div>
<div class="ttc" id="a_data_8c_html_afa5bac6b15fce8e5d6c6bd2ee90d4548"><div class="ttname"><a href="#afa5bac6b15fce8e5d6c6bd2ee90d4548">ZESTETM1_READ_REG_RESPONSE::Status</a></div><div class="ttdeci">uint8_t Status</div><div class="ttdef"><b>Definition</b> <a href="_data_8c_source.html#l00079">Data.c:79</a></div></div>
<div class="ttc" id="a_data_8c_html_struct_z_e_s_t_e_t_m1___r_e_a_d___r_e_g___c_m_d"><div class="ttname"><a href="#struct_z_e_s_t_e_t_m1___r_e_a_d___r_e_g___c_m_d">ZESTETM1_READ_REG_CMD</a></div><div class="ttdef"><b>Definition</b> <a href="_data_8c_source.html#l00070">Data.c:71</a></div></div>
<div class="ttc" id="a_data_8c_html_struct_z_e_s_t_e_t_m1___r_e_a_d___r_e_g___r_e_s_p_o_n_s_e"><div class="ttname"><a href="#struct_z_e_s_t_e_t_m1___r_e_a_d___r_e_g___r_e_s_p_o_n_s_e">ZESTETM1_READ_REG_RESPONSE</a></div><div class="ttdef"><b>Definition</b> <a href="_data_8c_source.html#l00076">Data.c:77</a></div></div>
<div class="ttc" id="a_zest_e_t_m1_8h_html_a08b73d24e4c63b14689ce5497acdceaba266d885172b35cd447f7f0e671b12de1"><div class="ttname"><a href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceaba266d885172b35cd447f7f0e671b12de1">ZESTETM1_ILLEGAL_PARAMETER</a></div><div class="ttdeci">@ ZESTETM1_ILLEGAL_PARAMETER</div><div class="ttdef"><b>Definition</b> <a href="_zest_e_t_m1_8h_source.html#l00094">ZestETM1.h:94</a></div></div>
<div class="ttc" id="a_zest_e_t_m1_8h_html_a29638fdf927ddaa8348fb861c075cbd1"><div class="ttname"><a href="_zest_e_t_m1_8h.html#a29638fdf927ddaa8348fb861c075cbd1">ZESTETM1_CONNECTION</a></div><div class="ttdeci">void * ZESTETM1_CONNECTION</div><div class="ttdef"><b>Definition</b> <a href="_zest_e_t_m1_8h_source.html#l00055">ZestETM1.h:55</a></div></div>
<div class="ttc" id="a_zest_e_t_m1_8h_html_a9030d582dbcc96b5622b254924fd3c0e"><div class="ttname"><a href="_zest_e_t_m1_8h.html#a9030d582dbcc96b5622b254924fd3c0e">ZESTETM1_CARD_INFO::ControlPort</a></div><div class="ttdeci">unsigned short ControlPort</div><div class="ttdef"><b>Definition</b> <a href="_zest_e_t_m1_8h_source.html#l00034">ZestETM1.h:34</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a05c3f778031562dcbe343ff39634bc3a" name="a05c3f778031562dcbe343ff39634bc3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05c3f778031562dcbe343ff39634bc3a">&#9670;&#160;</a></span>ZestETM1SetInterrupt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceab">ZESTETM1_STATUS</a> ZestETM1SetInterrupt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_zest_e_t_m1_8h.html#struct_z_e_s_t_e_t_m1___c_a_r_d___i_n_f_o">ZESTETM1_CARD_INFO</a> *</td>          <td class="paramname"><span class="paramname"><em>CardInfo</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_data_8c_source.html#l00780">780</a> of file <a class="el" href="_data_8c_source.html">Data.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  781</span>{</div>
<div class="line"><span class="lineno">  782</span>    <a class="code hl_enumeration" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceab">ZESTETM1_STATUS</a> Result;</div>
<div class="line"><span class="lineno">  783</span>    <a class="code hl_typedef" href="_zest_e_t_m1_8h.html#a29638fdf927ddaa8348fb861c075cbd1">ZESTETM1_CONNECTION</a> Connection;</div>
<div class="line"><span class="lineno">  784</span>    <a class="code hl_struct" href="#struct_z_e_s_t_e_t_m1___m_a_i_l_b_o_x___i_n_t___c_m_d">ZESTETM1_MAILBOX_INT_CMD</a> Cmd;</div>
<div class="line"><span class="lineno">  785</span>    <a class="code hl_struct" href="#struct_z_e_s_t_e_t_m1___m_a_i_l_b_o_x___i_n_t___r_e_s_p_o_n_s_e">ZESTETM1_MAILBOX_INT_RESPONSE</a> Response;</div>
<div class="line"><span class="lineno">  786</span> </div>
<div class="line"><span class="lineno">  787</span>    <span class="keywordflow">if</span> (CardInfo==NULL)</div>
<div class="line"><span class="lineno">  788</span>    {</div>
<div class="line"><span class="lineno">  789</span>        <a class="code hl_define" href="_private_8h.html#a9fa3960041700ec282eef18366e0c416">ZESTETM1_ERROR</a>(<span class="stringliteral">&quot;ZestETM1SetInterrupt&quot;</span>, <a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceabade3b30f0aeb809be16abf17a911a2e34">ZESTETM1_NULL_PARAMETER</a>);</div>
<div class="line"><span class="lineno">  790</span>    }</div>
<div class="line"><span class="lineno">  791</span> </div>
<div class="line"><span class="lineno">  792</span>    Result = <a class="code hl_function" href="#a575cbb65aeb0c15d5ffeb34e56034192">ZestETM1_OpenConnection</a>(CardInfo, <a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a53918fd9b48e787527f096f885151356afd47e02e5c2c045a63e45465d72016e4">ZESTETM1_TYPE_TCP</a>, CardInfo-&gt;<a class="code hl_variable" href="_zest_e_t_m1_8h.html#a9030d582dbcc96b5622b254924fd3c0e">ControlPort</a>, 0, &amp;Connection);</div>
<div class="line"><span class="lineno">  793</span>    <span class="keywordflow">if</span> (Result!=<a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceaba43f49fc93d052e75591d50b1c057c087">ZESTETM1_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  794</span>    {</div>
<div class="line"><span class="lineno">  795</span>        <a class="code hl_define" href="_private_8h.html#a9fa3960041700ec282eef18366e0c416">ZESTETM1_ERROR</a>(<span class="stringliteral">&quot;ZestETM1SetInterrupt&quot;</span>, Result);</div>
<div class="line"><span class="lineno">  796</span>    }</div>
<div class="line"><span class="lineno">  797</span> </div>
<div class="line"><span class="lineno">  798</span>    <span class="comment">// Send command to set interrupt</span></div>
<div class="line"><span class="lineno">  799</span>    Cmd.<a class="code hl_variable" href="#a450d916f5a310a2e94c2c1b3ba4d11a6">Command</a> = <a class="code hl_define" href="#ab60f054d90fa8df09a7e0e47ad0230f4">ZESTETM1_COMMAND_MAILBOX_INT</a>;</div>
<div class="line"><span class="lineno">  800</span>    Result = <a class="code hl_function" href="#ab83ba960dd2a6bd641392548b4f394dc">ZestETM1_SendCommand</a>(CardInfo, Connection,</div>
<div class="line"><span class="lineno">  801</span>                                 &amp;Cmd, <span class="keyword">sizeof</span>(Cmd),</div>
<div class="line"><span class="lineno">  802</span>                                 &amp;Response, <span class="keyword">sizeof</span>(Response), 1);</div>
<div class="line"><span class="lineno">  803</span>    <span class="keywordflow">if</span> (Result!=<a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceaba43f49fc93d052e75591d50b1c057c087">ZESTETM1_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  804</span>    {</div>
<div class="line"><span class="lineno">  805</span>        <a class="code hl_function" href="#aa229ea144d975a4dd9438902f88a3f5a">ZestETM1_CloseConnection</a>(Connection);</div>
<div class="line"><span class="lineno">  806</span>        <a class="code hl_define" href="_private_8h.html#a9fa3960041700ec282eef18366e0c416">ZESTETM1_ERROR</a>(<span class="stringliteral">&quot;ZestETM1SetInterrupt&quot;</span>, Result);</div>
<div class="line"><span class="lineno">  807</span>    }</div>
<div class="line"><span class="lineno">  808</span>    <span class="keywordflow">if</span> (Response.<a class="code hl_variable" href="#a7157a29ccd83fc825ad3fe10f3880ec3">Command</a>!=Cmd.<a class="code hl_variable" href="#a450d916f5a310a2e94c2c1b3ba4d11a6">Command</a> || Response.<a class="code hl_variable" href="#ab2914518b3d7ddf743e7fa70e29748bd">Status</a>!=0)</div>
<div class="line"><span class="lineno">  809</span>    {</div>
<div class="line"><span class="lineno">  810</span>        <a class="code hl_function" href="#aa229ea144d975a4dd9438902f88a3f5a">ZestETM1_CloseConnection</a>(Connection);</div>
<div class="line"><span class="lineno">  811</span>        <a class="code hl_define" href="_private_8h.html#a9fa3960041700ec282eef18366e0c416">ZESTETM1_ERROR</a>(<span class="stringliteral">&quot;ZestETM1SetInterrupt&quot;</span>, <a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceabaebe7416efb47a17ac9e01d04cb22bec9">ZESTETM1_INTERNAL_ERROR</a>);</div>
<div class="line"><span class="lineno">  812</span>    }</div>
<div class="line"><span class="lineno">  813</span> </div>
<div class="line"><span class="lineno">  814</span>    Result = <a class="code hl_function" href="#aa229ea144d975a4dd9438902f88a3f5a">ZestETM1_CloseConnection</a>(Connection);</div>
<div class="line"><span class="lineno">  815</span>    <span class="keywordflow">if</span> (Result!=<a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceaba43f49fc93d052e75591d50b1c057c087">ZESTETM1_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  816</span>    {</div>
<div class="line"><span class="lineno">  817</span>        <a class="code hl_define" href="_private_8h.html#a9fa3960041700ec282eef18366e0c416">ZESTETM1_ERROR</a>(<span class="stringliteral">&quot;ZestETM1SetInterrupt&quot;</span>, Result);</div>
<div class="line"><span class="lineno">  818</span>    }</div>
<div class="line"><span class="lineno">  819</span> </div>
<div class="line"><span class="lineno">  820</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceaba43f49fc93d052e75591d50b1c057c087">ZESTETM1_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  821</span>}</div>
<div class="ttc" id="a_data_8c_html_a450d916f5a310a2e94c2c1b3ba4d11a6"><div class="ttname"><a href="#a450d916f5a310a2e94c2c1b3ba4d11a6">ZESTETM1_MAILBOX_INT_CMD::Command</a></div><div class="ttdeci">uint8_t Command</div><div class="ttdef"><b>Definition</b> <a href="_data_8c_source.html#l00084">Data.c:84</a></div></div>
<div class="ttc" id="a_data_8c_html_a7157a29ccd83fc825ad3fe10f3880ec3"><div class="ttname"><a href="#a7157a29ccd83fc825ad3fe10f3880ec3">ZESTETM1_MAILBOX_INT_RESPONSE::Command</a></div><div class="ttdeci">uint8_t Command</div><div class="ttdef"><b>Definition</b> <a href="_data_8c_source.html#l00089">Data.c:89</a></div></div>
<div class="ttc" id="a_data_8c_html_ab2914518b3d7ddf743e7fa70e29748bd"><div class="ttname"><a href="#ab2914518b3d7ddf743e7fa70e29748bd">ZESTETM1_MAILBOX_INT_RESPONSE::Status</a></div><div class="ttdeci">uint8_t Status</div><div class="ttdef"><b>Definition</b> <a href="_data_8c_source.html#l00090">Data.c:90</a></div></div>
<div class="ttc" id="a_data_8c_html_ab60f054d90fa8df09a7e0e47ad0230f4"><div class="ttname"><a href="#ab60f054d90fa8df09a7e0e47ad0230f4">ZESTETM1_COMMAND_MAILBOX_INT</a></div><div class="ttdeci">#define ZESTETM1_COMMAND_MAILBOX_INT</div><div class="ttdef"><b>Definition</b> <a href="_data_8c_source.html#l00096">Data.c:96</a></div></div>
<div class="ttc" id="a_data_8c_html_struct_z_e_s_t_e_t_m1___m_a_i_l_b_o_x___i_n_t___c_m_d"><div class="ttname"><a href="#struct_z_e_s_t_e_t_m1___m_a_i_l_b_o_x___i_n_t___c_m_d">ZESTETM1_MAILBOX_INT_CMD</a></div><div class="ttdef"><b>Definition</b> <a href="_data_8c_source.html#l00082">Data.c:83</a></div></div>
<div class="ttc" id="a_data_8c_html_struct_z_e_s_t_e_t_m1___m_a_i_l_b_o_x___i_n_t___r_e_s_p_o_n_s_e"><div class="ttname"><a href="#struct_z_e_s_t_e_t_m1___m_a_i_l_b_o_x___i_n_t___r_e_s_p_o_n_s_e">ZESTETM1_MAILBOX_INT_RESPONSE</a></div><div class="ttdef"><b>Definition</b> <a href="_data_8c_source.html#l00087">Data.c:88</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a32b4337e26aaf8a2a5704ccc022a874f" name="a32b4337e26aaf8a2a5704ccc022a874f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32b4337e26aaf8a2a5704ccc022a874f">&#9670;&#160;</a></span>ZestETM1SPIReadWrite()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceab">ZESTETM1_STATUS</a> ZestETM1SPIReadWrite </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_zest_e_t_m1_8h.html#struct_z_e_s_t_e_t_m1___c_a_r_d___i_n_f_o">ZESTETM1_CARD_INFO</a> *</td>          <td class="paramname"><span class="paramname"><em>CardInfo</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_zest_e_t_m1_8h.html#a8373667be0192228dc85d28cf1b1a98a">ZESTETM1_SPI_RATE</a></td>          <td class="paramname"><span class="paramname"><em>Rate</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>WordLen</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>WriteData</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>ReadData</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long</td>          <td class="paramname"><span class="paramname"><em>Length</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>ReleaseCS</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_data_8c_source.html#l00635">635</a> of file <a class="el" href="_data_8c_source.html">Data.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  639</span>{</div>
<div class="line"><span class="lineno">  640</span>    <a class="code hl_enumeration" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceab">ZESTETM1_STATUS</a> Result;</div>
<div class="line"><span class="lineno">  641</span>    <a class="code hl_typedef" href="_zest_e_t_m1_8h.html#a29638fdf927ddaa8348fb861c075cbd1">ZESTETM1_CONNECTION</a> Connection;</div>
<div class="line"><span class="lineno">  642</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> RateVal = Rate==<a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a8373667be0192228dc85d28cf1b1a98aa832d5cd7b72d621c999d2db65ab1495e">ZESTETM1_SPI_RATE_35</a> ? <a class="code hl_define" href="_private_8h.html#a4ffd96b708bab528959bd1609da3ab93">ZESTETM1_RATE_40MHz</a> :</div>
<div class="line"><span class="lineno">  643</span>                            Rate==<a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a8373667be0192228dc85d28cf1b1a98aa2230121ed2fa5d305af1c5f052ba1142">ZESTETM1_SPI_RATE_17_5</a> ? <a class="code hl_define" href="_private_8h.html#a78c76428de8477ddd16c3449d4ecc2bb">ZESTETM1_RATE_20MHz</a> : <a class="code hl_define" href="_private_8h.html#a978977fe28ade17ee6a2a1629de68611">ZESTETM1_RATE_10MHz</a>;</div>
<div class="line"><span class="lineno">  644</span> </div>
<div class="line"><span class="lineno">  645</span>    <span class="keywordflow">if</span> (CardInfo==NULL || (WriteData==NULL &amp;&amp; ReadData==NULL))</div>
<div class="line"><span class="lineno">  646</span>    {</div>
<div class="line"><span class="lineno">  647</span>        <a class="code hl_define" href="_private_8h.html#a9fa3960041700ec282eef18366e0c416">ZESTETM1_ERROR</a>(<span class="stringliteral">&quot;ZestETM1SPIReadWrite&quot;</span>, <a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceabade3b30f0aeb809be16abf17a911a2e34">ZESTETM1_NULL_PARAMETER</a>);</div>
<div class="line"><span class="lineno">  648</span>    }</div>
<div class="line"><span class="lineno">  649</span>    <span class="keywordflow">if</span> (WordLen&lt;1 || WordLen&gt;32 || Length&gt;16384)</div>
<div class="line"><span class="lineno">  650</span>    {</div>
<div class="line"><span class="lineno">  651</span>        <a class="code hl_define" href="_private_8h.html#a9fa3960041700ec282eef18366e0c416">ZESTETM1_ERROR</a>(<span class="stringliteral">&quot;ZestETM1SPIReadWrite&quot;</span>, <a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceaba266d885172b35cd447f7f0e671b12de1">ZESTETM1_ILLEGAL_PARAMETER</a>);</div>
<div class="line"><span class="lineno">  652</span>    }</div>
<div class="line"><span class="lineno">  653</span> </div>
<div class="line"><span class="lineno">  654</span>    Result = <a class="code hl_function" href="#a575cbb65aeb0c15d5ffeb34e56034192">ZestETM1_OpenConnection</a>(CardInfo, <a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a53918fd9b48e787527f096f885151356afd47e02e5c2c045a63e45465d72016e4">ZESTETM1_TYPE_TCP</a>, CardInfo-&gt;<a class="code hl_variable" href="_zest_e_t_m1_8h.html#a9030d582dbcc96b5622b254924fd3c0e">ControlPort</a>, 0, &amp;Connection);</div>
<div class="line"><span class="lineno">  655</span>    <span class="keywordflow">if</span> (Result!=<a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceaba43f49fc93d052e75591d50b1c057c087">ZESTETM1_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  656</span>    {</div>
<div class="line"><span class="lineno">  657</span>        <a class="code hl_define" href="_private_8h.html#a9fa3960041700ec282eef18366e0c416">ZESTETM1_ERROR</a>(<span class="stringliteral">&quot;ZestETM1SPIReadWrite&quot;</span>, Result);</div>
<div class="line"><span class="lineno">  658</span>    }</div>
<div class="line"><span class="lineno">  659</span> </div>
<div class="line"><span class="lineno">  660</span>    Result = <a class="code hl_function" href="#a501dee9164bf6da1d70a7307cb397ee8">ZestETM1_SPIReadWrite</a>(CardInfo, Connection, <a class="code hl_define" href="_private_8h.html#a6a9e6aba11fec72e76435dc29a14e9c9">ZESTETM1_USER_DEVICE_ID</a>|RateVal, WordLen, (uint32_t *)WriteData, (uint32_t *)ReadData, Length, ReleaseCS, 1);</div>
<div class="line"><span class="lineno">  661</span>    <span class="keywordflow">if</span> (Result!=<a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceaba43f49fc93d052e75591d50b1c057c087">ZESTETM1_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  662</span>    {</div>
<div class="line"><span class="lineno">  663</span>        <a class="code hl_define" href="_private_8h.html#a9fa3960041700ec282eef18366e0c416">ZESTETM1_ERROR</a>(<span class="stringliteral">&quot;ZestETM1SPIReadWrite&quot;</span>, Result);</div>
<div class="line"><span class="lineno">  664</span>    }</div>
<div class="line"><span class="lineno">  665</span> </div>
<div class="line"><span class="lineno">  666</span>    Result = <a class="code hl_function" href="#aa229ea144d975a4dd9438902f88a3f5a">ZestETM1_CloseConnection</a>(Connection);</div>
<div class="line"><span class="lineno">  667</span>    <span class="keywordflow">if</span> (Result!=<a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceaba43f49fc93d052e75591d50b1c057c087">ZESTETM1_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  668</span>    {</div>
<div class="line"><span class="lineno">  669</span>        <a class="code hl_define" href="_private_8h.html#a9fa3960041700ec282eef18366e0c416">ZESTETM1_ERROR</a>(<span class="stringliteral">&quot;ZestETM1SPIReadWrite&quot;</span>, Result);</div>
<div class="line"><span class="lineno">  670</span>    }</div>
<div class="line"><span class="lineno">  671</span> </div>
<div class="line"><span class="lineno">  672</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceaba43f49fc93d052e75591d50b1c057c087">ZESTETM1_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  673</span>}</div>
<div class="ttc" id="a_data_8c_html_a501dee9164bf6da1d70a7307cb397ee8"><div class="ttname"><a href="#a501dee9164bf6da1d70a7307cb397ee8">ZestETM1_SPIReadWrite</a></div><div class="ttdeci">ZESTETM1_STATUS ZestETM1_SPIReadWrite(ZESTETM1_CARD_INFO *CardInfo, ZESTETM1_CONNECTION Connection, int Device, int WordLen, uint32_t *WriteData, uint32_t *ReadData, uint32_t Length, int ReleaseCS, int WaitForAck)</div><div class="ttdef"><b>Definition</b> <a href="_data_8c_source.html#l00495">Data.c:495</a></div></div>
<div class="ttc" id="a_private_8h_html_a4ffd96b708bab528959bd1609da3ab93"><div class="ttname"><a href="_private_8h.html#a4ffd96b708bab528959bd1609da3ab93">ZESTETM1_RATE_40MHz</a></div><div class="ttdeci">#define ZESTETM1_RATE_40MHz</div><div class="ttdef"><b>Definition</b> <a href="_private_8h_source.html#l00110">Private.h:110</a></div></div>
<div class="ttc" id="a_private_8h_html_a6a9e6aba11fec72e76435dc29a14e9c9"><div class="ttname"><a href="_private_8h.html#a6a9e6aba11fec72e76435dc29a14e9c9">ZESTETM1_USER_DEVICE_ID</a></div><div class="ttdeci">#define ZESTETM1_USER_DEVICE_ID</div><div class="ttdef"><b>Definition</b> <a href="_private_8h_source.html#l00113">Private.h:113</a></div></div>
<div class="ttc" id="a_private_8h_html_a78c76428de8477ddd16c3449d4ecc2bb"><div class="ttname"><a href="_private_8h.html#a78c76428de8477ddd16c3449d4ecc2bb">ZESTETM1_RATE_20MHz</a></div><div class="ttdeci">#define ZESTETM1_RATE_20MHz</div><div class="ttdef"><b>Definition</b> <a href="_private_8h_source.html#l00111">Private.h:111</a></div></div>
<div class="ttc" id="a_private_8h_html_a978977fe28ade17ee6a2a1629de68611"><div class="ttname"><a href="_private_8h.html#a978977fe28ade17ee6a2a1629de68611">ZESTETM1_RATE_10MHz</a></div><div class="ttdeci">#define ZESTETM1_RATE_10MHz</div><div class="ttdef"><b>Definition</b> <a href="_private_8h_source.html#l00112">Private.h:112</a></div></div>
<div class="ttc" id="a_zest_e_t_m1_8h_html_a8373667be0192228dc85d28cf1b1a98aa2230121ed2fa5d305af1c5f052ba1142"><div class="ttname"><a href="_zest_e_t_m1_8h.html#a8373667be0192228dc85d28cf1b1a98aa2230121ed2fa5d305af1c5f052ba1142">ZESTETM1_SPI_RATE_17_5</a></div><div class="ttdeci">@ ZESTETM1_SPI_RATE_17_5</div><div class="ttdef"><b>Definition</b> <a href="_zest_e_t_m1_8h_source.html#l00068">ZestETM1.h:68</a></div></div>
<div class="ttc" id="a_zest_e_t_m1_8h_html_a8373667be0192228dc85d28cf1b1a98aa832d5cd7b72d621c999d2db65ab1495e"><div class="ttname"><a href="_zest_e_t_m1_8h.html#a8373667be0192228dc85d28cf1b1a98aa832d5cd7b72d621c999d2db65ab1495e">ZESTETM1_SPI_RATE_35</a></div><div class="ttdeci">@ ZESTETM1_SPI_RATE_35</div><div class="ttdef"><b>Definition</b> <a href="_zest_e_t_m1_8h_source.html#l00067">ZestETM1.h:67</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af3d9c3f45e447dfc8490c0b4441b6f03" name="af3d9c3f45e447dfc8490c0b4441b6f03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3d9c3f45e447dfc8490c0b4441b6f03">&#9670;&#160;</a></span>ZestETM1WriteData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceab">ZESTETM1_STATUS</a> ZestETM1WriteData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_zest_e_t_m1_8h.html#a29638fdf927ddaa8348fb861c075cbd1">ZESTETM1_CONNECTION</a></td>          <td class="paramname"><span class="paramname"><em>Connection</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>Buffer</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long</td>          <td class="paramname"><span class="paramname"><em>Length</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long *</td>          <td class="paramname"><span class="paramname"><em>Written</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long</td>          <td class="paramname"><span class="paramname"><em>Timeout</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_data_8c_source.html#l00592">592</a> of file <a class="el" href="_data_8c_source.html">Data.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  597</span>{</div>
<div class="line"><span class="lineno">  598</span>    <a class="code hl_enumeration" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceab">ZESTETM1_STATUS</a> Result;</div>
<div class="line"><span class="lineno">  599</span>    <a class="code hl_struct" href="_private_8h.html#struct_z_e_s_t_e_t_m1___c_o_n_n_e_c_t_i_o_n___s_t_r_u_c_t">ZESTETM1_CONNECTION_STRUCT</a> *Conn = (<a class="code hl_struct" href="_private_8h.html#struct_z_e_s_t_e_t_m1___c_o_n_n_e_c_t_i_o_n___s_t_r_u_c_t">ZESTETM1_CONNECTION_STRUCT</a>*)Connection;</div>
<div class="line"><span class="lineno">  600</span> </div>
<div class="line"><span class="lineno">  601</span>    Result = <a class="code hl_function" href="#a2c81e471bdc4545cd0e36988ea72fe50">ZestETM1_WriteData</a>(Connection, Buffer, Length, Written, Timeout);</div>
<div class="line"><span class="lineno">  602</span>    <span class="keywordflow">if</span> (Result!=<a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceaba43f49fc93d052e75591d50b1c057c087">ZESTETM1_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  603</span>    {</div>
<div class="line"><span class="lineno">  604</span>        <a class="code hl_define" href="_private_8h.html#a865c908bd6bbe85a777d0181be2f077b">ZESTETM1_ERROR_CONN</a>(<span class="stringliteral">&quot;ZestETM1WriteData&quot;</span>, Result);</div>
<div class="line"><span class="lineno">  605</span>    }</div>
<div class="line"><span class="lineno">  606</span> </div>
<div class="line"><span class="lineno">  607</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceaba43f49fc93d052e75591d50b1c057c087">ZESTETM1_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  608</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab432d64dd080e81824b7e876f1b4c548" name="ab432d64dd080e81824b7e876f1b4c548"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab432d64dd080e81824b7e876f1b4c548">&#9670;&#160;</a></span>ZestETM1WriteRegister()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceab">ZESTETM1_STATUS</a> ZestETM1WriteRegister </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_zest_e_t_m1_8h.html#struct_z_e_s_t_e_t_m1___c_a_r_d___i_n_f_o">ZESTETM1_CARD_INFO</a> *</td>          <td class="paramname"><span class="paramname"><em>CardInfo</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long</td>          <td class="paramname"><span class="paramname"><em>Addr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short</td>          <td class="paramname"><span class="paramname"><em>Data</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_data_8c_source.html#l00678">678</a> of file <a class="el" href="_data_8c_source.html">Data.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  679</span>{</div>
<div class="line"><span class="lineno">  680</span>    <a class="code hl_enumeration" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceab">ZESTETM1_STATUS</a> Result;</div>
<div class="line"><span class="lineno">  681</span>    <a class="code hl_typedef" href="_zest_e_t_m1_8h.html#a29638fdf927ddaa8348fb861c075cbd1">ZESTETM1_CONNECTION</a> Connection;</div>
<div class="line"><span class="lineno">  682</span>    <a class="code hl_struct" href="#struct_z_e_s_t_e_t_m1___w_r_i_t_e___r_e_g___c_m_d">ZESTETM1_WRITE_REG_CMD</a> Cmd;</div>
<div class="line"><span class="lineno">  683</span>    <a class="code hl_struct" href="#struct_z_e_s_t_e_t_m1___w_r_i_t_e___r_e_g___r_e_s_p_o_n_s_e">ZESTETM1_WRITE_REG_RESPONSE</a> Response;</div>
<div class="line"><span class="lineno">  684</span> </div>
<div class="line"><span class="lineno">  685</span>    <span class="keywordflow">if</span> (CardInfo==NULL)</div>
<div class="line"><span class="lineno">  686</span>    {</div>
<div class="line"><span class="lineno">  687</span>        <a class="code hl_define" href="_private_8h.html#a9fa3960041700ec282eef18366e0c416">ZESTETM1_ERROR</a>(<span class="stringliteral">&quot;ZestETM1WriteRegister&quot;</span>, <a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceabade3b30f0aeb809be16abf17a911a2e34">ZESTETM1_NULL_PARAMETER</a>);</div>
<div class="line"><span class="lineno">  688</span>    }</div>
<div class="line"><span class="lineno">  689</span>    <span class="keywordflow">if</span> (Addr&gt;127)</div>
<div class="line"><span class="lineno">  690</span>    {</div>
<div class="line"><span class="lineno">  691</span>        <a class="code hl_define" href="_private_8h.html#a9fa3960041700ec282eef18366e0c416">ZESTETM1_ERROR</a>(<span class="stringliteral">&quot;ZestETM1WriteRegister&quot;</span>, <a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceaba266d885172b35cd447f7f0e671b12de1">ZESTETM1_ILLEGAL_PARAMETER</a>);</div>
<div class="line"><span class="lineno">  692</span>    }</div>
<div class="line"><span class="lineno">  693</span> </div>
<div class="line"><span class="lineno">  694</span>    Result = <a class="code hl_function" href="#a575cbb65aeb0c15d5ffeb34e56034192">ZestETM1_OpenConnection</a>(CardInfo, <a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a53918fd9b48e787527f096f885151356afd47e02e5c2c045a63e45465d72016e4">ZESTETM1_TYPE_TCP</a>, CardInfo-&gt;<a class="code hl_variable" href="_zest_e_t_m1_8h.html#a9030d582dbcc96b5622b254924fd3c0e">ControlPort</a>, 0, &amp;Connection);</div>
<div class="line"><span class="lineno">  695</span>    <span class="keywordflow">if</span> (Result!=<a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceaba43f49fc93d052e75591d50b1c057c087">ZESTETM1_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  696</span>    {</div>
<div class="line"><span class="lineno">  697</span>        <a class="code hl_define" href="_private_8h.html#a9fa3960041700ec282eef18366e0c416">ZESTETM1_ERROR</a>(<span class="stringliteral">&quot;ZestETM1WriteRegister&quot;</span>, Result);</div>
<div class="line"><span class="lineno">  698</span>    }</div>
<div class="line"><span class="lineno">  699</span> </div>
<div class="line"><span class="lineno">  700</span>    <span class="comment">// Write register to the device</span></div>
<div class="line"><span class="lineno">  701</span>    <span class="comment">//FIXME: Do we want to be able to copy this value to flash?</span></div>
<div class="line"><span class="lineno">  702</span>    Cmd.<a class="code hl_variable" href="#a0e6dd80e42ccca802b8df64cb052056f">Command</a> = <a class="code hl_define" href="#af298cc2bbef120e7b5c9725df28cf03b">ZESTETM1_COMMAND_WRITE_REG</a>;</div>
<div class="line"><span class="lineno">  703</span>    Cmd.<a class="code hl_variable" href="#a1f8fb4cd0c547a2cfd4216aad0886acd">Addr</a> = (uint8_t)Addr;</div>
<div class="line"><span class="lineno">  704</span>    Cmd.<a class="code hl_variable" href="#a983c747655423cfb7aac9b6812e98952">Data</a> = ((Data&gt;&gt;8)&amp;0xff) | (Data&amp;0xff);</div>
<div class="line"><span class="lineno">  705</span>    Result = <a class="code hl_function" href="#ab83ba960dd2a6bd641392548b4f394dc">ZestETM1_SendCommand</a>(CardInfo, Connection,</div>
<div class="line"><span class="lineno">  706</span>                                 &amp;Cmd, <span class="keyword">sizeof</span>(Cmd),</div>
<div class="line"><span class="lineno">  707</span>                                 &amp;Response, <span class="keyword">sizeof</span>(Response), 1);</div>
<div class="line"><span class="lineno">  708</span>    <span class="keywordflow">if</span> (Result!=<a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceaba43f49fc93d052e75591d50b1c057c087">ZESTETM1_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  709</span>    {</div>
<div class="line"><span class="lineno">  710</span>        <a class="code hl_function" href="#aa229ea144d975a4dd9438902f88a3f5a">ZestETM1_CloseConnection</a>(Connection);</div>
<div class="line"><span class="lineno">  711</span>        <a class="code hl_define" href="_private_8h.html#a9fa3960041700ec282eef18366e0c416">ZESTETM1_ERROR</a>(<span class="stringliteral">&quot;ZestETM1WriteRegister&quot;</span>, Result);</div>
<div class="line"><span class="lineno">  712</span>    }</div>
<div class="line"><span class="lineno">  713</span>    <span class="keywordflow">if</span> (Response.<a class="code hl_variable" href="#a73293c4a82ac82b3170ce17c4ae6d70c">Command</a>!=Cmd.<a class="code hl_variable" href="#a0e6dd80e42ccca802b8df64cb052056f">Command</a> || Response.<a class="code hl_variable" href="#a937e392a599cab1a790930b2a96efeb9">Status</a>!=0)</div>
<div class="line"><span class="lineno">  714</span>    {</div>
<div class="line"><span class="lineno">  715</span>        <a class="code hl_function" href="#aa229ea144d975a4dd9438902f88a3f5a">ZestETM1_CloseConnection</a>(Connection);</div>
<div class="line"><span class="lineno">  716</span>        <a class="code hl_define" href="_private_8h.html#a9fa3960041700ec282eef18366e0c416">ZESTETM1_ERROR</a>(<span class="stringliteral">&quot;ZestETM1WriteRegister&quot;</span>, <a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceabaebe7416efb47a17ac9e01d04cb22bec9">ZESTETM1_INTERNAL_ERROR</a>);</div>
<div class="line"><span class="lineno">  717</span>    }</div>
<div class="line"><span class="lineno">  718</span> </div>
<div class="line"><span class="lineno">  719</span>    Result = <a class="code hl_function" href="#aa229ea144d975a4dd9438902f88a3f5a">ZestETM1_CloseConnection</a>(Connection);</div>
<div class="line"><span class="lineno">  720</span>    <span class="keywordflow">if</span> (Result!=<a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceaba43f49fc93d052e75591d50b1c057c087">ZESTETM1_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  721</span>    {</div>
<div class="line"><span class="lineno">  722</span>        <a class="code hl_define" href="_private_8h.html#a9fa3960041700ec282eef18366e0c416">ZESTETM1_ERROR</a>(<span class="stringliteral">&quot;ZestETM1WriteRegister&quot;</span>, Result);</div>
<div class="line"><span class="lineno">  723</span>    }</div>
<div class="line"><span class="lineno">  724</span> </div>
<div class="line"><span class="lineno">  725</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_zest_e_t_m1_8h.html#a08b73d24e4c63b14689ce5497acdceaba43f49fc93d052e75591d50b1c057c087">ZESTETM1_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  726</span>}</div>
<div class="ttc" id="a_data_8c_html_a0e6dd80e42ccca802b8df64cb052056f"><div class="ttname"><a href="#a0e6dd80e42ccca802b8df64cb052056f">ZESTETM1_WRITE_REG_CMD::Command</a></div><div class="ttdeci">uint8_t Command</div><div class="ttdef"><b>Definition</b> <a href="_data_8c_source.html#l00060">Data.c:60</a></div></div>
<div class="ttc" id="a_data_8c_html_a1f8fb4cd0c547a2cfd4216aad0886acd"><div class="ttname"><a href="#a1f8fb4cd0c547a2cfd4216aad0886acd">ZESTETM1_WRITE_REG_CMD::Addr</a></div><div class="ttdeci">uint8_t Addr</div><div class="ttdef"><b>Definition</b> <a href="_data_8c_source.html#l00061">Data.c:61</a></div></div>
<div class="ttc" id="a_data_8c_html_a73293c4a82ac82b3170ce17c4ae6d70c"><div class="ttname"><a href="#a73293c4a82ac82b3170ce17c4ae6d70c">ZESTETM1_WRITE_REG_RESPONSE::Command</a></div><div class="ttdeci">uint8_t Command</div><div class="ttdef"><b>Definition</b> <a href="_data_8c_source.html#l00066">Data.c:66</a></div></div>
<div class="ttc" id="a_data_8c_html_a937e392a599cab1a790930b2a96efeb9"><div class="ttname"><a href="#a937e392a599cab1a790930b2a96efeb9">ZESTETM1_WRITE_REG_RESPONSE::Status</a></div><div class="ttdeci">uint8_t Status</div><div class="ttdef"><b>Definition</b> <a href="_data_8c_source.html#l00067">Data.c:67</a></div></div>
<div class="ttc" id="a_data_8c_html_a983c747655423cfb7aac9b6812e98952"><div class="ttname"><a href="#a983c747655423cfb7aac9b6812e98952">ZESTETM1_WRITE_REG_CMD::Data</a></div><div class="ttdeci">uint16_t Data</div><div class="ttdef"><b>Definition</b> <a href="_data_8c_source.html#l00062">Data.c:62</a></div></div>
<div class="ttc" id="a_data_8c_html_af298cc2bbef120e7b5c9725df28cf03b"><div class="ttname"><a href="#af298cc2bbef120e7b5c9725df28cf03b">ZESTETM1_COMMAND_WRITE_REG</a></div><div class="ttdeci">#define ZESTETM1_COMMAND_WRITE_REG</div><div class="ttdef"><b>Definition</b> <a href="_data_8c_source.html#l00094">Data.c:94</a></div></div>
<div class="ttc" id="a_data_8c_html_struct_z_e_s_t_e_t_m1___w_r_i_t_e___r_e_g___c_m_d"><div class="ttname"><a href="#struct_z_e_s_t_e_t_m1___w_r_i_t_e___r_e_g___c_m_d">ZESTETM1_WRITE_REG_CMD</a></div><div class="ttdef"><b>Definition</b> <a href="_data_8c_source.html#l00058">Data.c:59</a></div></div>
<div class="ttc" id="a_data_8c_html_struct_z_e_s_t_e_t_m1___w_r_i_t_e___r_e_g___r_e_s_p_o_n_s_e"><div class="ttname"><a href="#struct_z_e_s_t_e_t_m1___w_r_i_t_e___r_e_g___r_e_s_p_o_n_s_e">ZESTETM1_WRITE_REG_RESPONSE</a></div><div class="ttdef"><b>Definition</b> <a href="_data_8c_source.html#l00064">Data.c:65</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
