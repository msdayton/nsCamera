<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLNL Nanosecond Gated Camera: nsCamera.utils.misc Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="llnl60.jpg"/></td>
  <td id="projectalign">
   <div id="projectname">LLNL Nanosecond Gated Camera<span id="projectnumber">&#160;2.1.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="namespaces.html"><span>Package&#160;List</span></a></li>
      <li><a href="namespacemembers.html"><span>Package&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacens_camera.html">nsCamera</a></li><li class="navelem"><a class="el" href="namespacens_camera_1_1utils.html">utils</a></li><li class="navelem"><a class="el" href="namespacens_camera_1_1utils_1_1misc.html">misc</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">nsCamera.utils.misc Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns_camera_1_1utils_1_1misc_1_1fake_c_a.html">fakeCA</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a859c03da9eee6a047fbfa454bf0f1530" id="r_a859c03da9eee6a047fbfa454bf0f1530"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a859c03da9eee6a047fbfa454bf0f1530">makeLogLabels</a> (logtag, label)</td></tr>
<tr class="separator:a859c03da9eee6a047fbfa454bf0f1530"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4abecc9a86c9608ab4e96607ff792fef" id="r_a4abecc9a86c9608ab4e96607ff792fef"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4abecc9a86c9608ab4e96607ff792fef">getEnter</a> (text)</td></tr>
<tr class="separator:a4abecc9a86c9608ab4e96607ff792fef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a991b8a337c65211ef80d1b913861fe32" id="r_a991b8a337c65211ef80d1b913861fe32"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a991b8a337c65211ef80d1b913861fe32">checkCRC</a> (rval)</td></tr>
<tr class="separator:a991b8a337c65211ef80d1b913861fe32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca83feaff324c676c1dcdfba8686798e" id="r_aca83feaff324c676c1dcdfba8686798e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aca83feaff324c676c1dcdfba8686798e">str2bytes</a> (astring)</td></tr>
<tr class="separator:aca83feaff324c676c1dcdfba8686798e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd5337116d2ef39db92edc1c12477b46" id="r_afd5337116d2ef39db92edc1c12477b46"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afd5337116d2ef39db92edc1c12477b46">bytes2str</a> (bytesequence)</td></tr>
<tr class="separator:afd5337116d2ef39db92edc1c12477b46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5de6afb772791fcbf3ba71c9d97b7277" id="r_a5de6afb772791fcbf3ba71c9d97b7277"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5de6afb772791fcbf3ba71c9d97b7277">str2nparray</a> (valstring)</td></tr>
<tr class="separator:a5de6afb772791fcbf3ba71c9d97b7277"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5559f8d9dde2a1f2e8dfaeb137dc0d8f" id="r_a5559f8d9dde2a1f2e8dfaeb137dc0d8f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5559f8d9dde2a1f2e8dfaeb137dc0d8f">flattenlist</a> (x)</td></tr>
<tr class="separator:a5559f8d9dde2a1f2e8dfaeb137dc0d8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae28faecdaf20d51a38539068da2e64a7" id="r_ae28faecdaf20d51a38539068da2e64a7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae28faecdaf20d51a38539068da2e64a7">generateFrames</a> (camassem, data, columns=1)</td></tr>
<tr class="separator:ae28faecdaf20d51a38539068da2e64a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0824d6198316d0e78b641244e12b4803" id="r_a0824d6198316d0e78b641244e12b4803"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0824d6198316d0e78b641244e12b4803">loadDumpedData</a> (filename=&quot;frames.txt&quot;, path=None, filetype=&quot;txt&quot;, sensor=&quot;daedalus&quot;, firstframe=None, lastframe=None, width=None, height=None, padToFull=None, firstrow=None, lastrow=None, maxwidth=None, maxheight=None, bytesperpixel=None, interlacing=None, columns=1)</td></tr>
<tr class="separator:a0824d6198316d0e78b641244e12b4803"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dff863e543c561b0f5ce7b691f6620c" id="r_a6dff863e543c561b0f5ce7b691f6620c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6dff863e543c561b0f5ce7b691f6620c">saveTiffs</a> (self, frames, path=None, filename=&quot;Frame&quot;, prefix=None, index=None)</td></tr>
<tr class="separator:a6dff863e543c561b0f5ce7b691f6620c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a283e39af686373bf15eb4e799d5e4c65" id="r_a283e39af686373bf15eb4e799d5e4c65"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a283e39af686373bf15eb4e799d5e4c65">plotFrames</a> (self, frames, index=None)</td></tr>
<tr class="separator:a283e39af686373bf15eb4e799d5e4c65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abce8867a57c8b20fd2dbd5203e1897e7" id="r_abce8867a57c8b20fd2dbd5203e1897e7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abce8867a57c8b20fd2dbd5203e1897e7">partition</a> (self, frames, columns)</td></tr>
<tr class="separator:abce8867a57c8b20fd2dbd5203e1897e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Miscellaneous utilities, including batch processing of images acquired using the 
  nsCamera. These are functions that don't require a cameraAssembler object to be 
  instantiated before use.
  
Author: Jeremy Martin Hill (jerhill@llnl.gov)

Copyright (c) 2025, Lawrence Livermore National Security, LLC.  All rights reserved.
LLNL-CODE-838080

This work was produced at the Lawrence Livermore National Laboratory (LLNL) under 
contract no. DE-AC52-07NA27344 (Contract 44) between the U.S. Department of Energy (DOE)
and Lawrence Livermore National Security, LLC (LLNS) for the operation of LLNL.
'nsCamera' is distributed under the terms of the MIT license. All new contributions must
be made under this license.

Version: 2.1.2 (February 2025)
</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="afd5337116d2ef39db92edc1c12477b46" name="afd5337116d2ef39db92edc1c12477b46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd5337116d2ef39db92edc1c12477b46">&#9670;&#160;</a></span>bytes2str()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">nsCamera.utils.misc.bytes2str </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>bytesequence</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Python-version-agnostic converter of bytes to hexadecimal strings

Args:
    bytesequence: sequence of bytes as string (Py2) or bytes (Py3)

Returns:
    hexadecimal string representation of 'bytes' without '0x'
</pre> 
<p class="definition">Definition at line <a class="el" href="misc_8py_source.html#l00123">123</a> of file <a class="el" href="misc_8py_source.html">misc.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  123</span><span class="keyword">def </span>bytes2str(bytesequence):</div>
<div class="line"><span class="lineno">  124</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  125</span><span class="stringliteral">    Python-version-agnostic converter of bytes to hexadecimal strings</span></div>
<div class="line"><span class="lineno">  126</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  127</span><span class="stringliteral">    Args:</span></div>
<div class="line"><span class="lineno">  128</span><span class="stringliteral">        bytesequence: sequence of bytes as string (Py2) or bytes (Py3)</span></div>
<div class="line"><span class="lineno">  129</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  130</span><span class="stringliteral">    Returns:</span></div>
<div class="line"><span class="lineno">  131</span><span class="stringliteral">        hexadecimal string representation of &#39;bytes&#39; without &#39;0x&#39;</span></div>
<div class="line"><span class="lineno">  132</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  133</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  134</span>        estring = binascii.b2a_hex(bytesequence)</div>
<div class="line"><span class="lineno">  135</span>    <span class="keywordflow">except</span> TypeError:</div>
<div class="line"><span class="lineno">  136</span>        logging.error(</div>
<div class="line"><span class="lineno">  137</span>            <span class="stringliteral">&quot;ERROR: bytes2str: Invalid byte sequence: &#39;{bytesequence}&#39;; returning an&quot;</span></div>
<div class="line"><span class="lineno">  138</span>            <span class="stringliteral">&quot; empty string&quot;</span>.format(bytesequence=bytesequence)</div>
<div class="line"><span class="lineno">  139</span>        )</div>
<div class="line"><span class="lineno">  140</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno">  141</span>    python, _, _, _, _ = sys.version_info</div>
<div class="line"><span class="lineno">  142</span>    <span class="keywordflow">if</span> python &gt;= 3:</div>
<div class="line"><span class="lineno">  143</span>        estring = str(estring)[2:-1]</div>
<div class="line"><span class="lineno">  144</span>    <span class="keywordflow">return</span> estring</div>
<div class="line"><span class="lineno">  145</span> </div>
<div class="line"><span class="lineno">  146</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a991b8a337c65211ef80d1b913861fe32" name="a991b8a337c65211ef80d1b913861fe32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a991b8a337c65211ef80d1b913861fe32">&#9670;&#160;</a></span>checkCRC()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">nsCamera.utils.misc.checkCRC </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>rval</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Calculate CRC for rval[:-4] and compare with expected CRC in rval[-4:]

Args:
    rval: hexadecimal string

Returns:
    boolean, True if CRCs match, False if they don't match or the input is invalid
</pre> 
<p class="definition">Definition at line <a class="el" href="misc_8py_source.html#l00072">72</a> of file <a class="el" href="misc_8py_source.html">misc.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   72</span><span class="keyword">def </span>checkCRC(rval):</div>
<div class="line"><span class="lineno">   73</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   74</span><span class="stringliteral">    Calculate CRC for rval[:-4] and compare with expected CRC in rval[-4:]</span></div>
<div class="line"><span class="lineno">   75</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   76</span><span class="stringliteral">    Args:</span></div>
<div class="line"><span class="lineno">   77</span><span class="stringliteral">        rval: hexadecimal string</span></div>
<div class="line"><span class="lineno">   78</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   79</span><span class="stringliteral">    Returns:</span></div>
<div class="line"><span class="lineno">   80</span><span class="stringliteral">        boolean, True if CRCs match, False if they don&#39;t match or the input is invalid</span></div>
<div class="line"><span class="lineno">   81</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   82</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> isinstance(rval, str) <span class="keywordflow">or</span> len(rval) &lt; 5:</div>
<div class="line"><span class="lineno">   83</span>        logging.error(<span class="stringliteral">&quot;ERROR: checkCRC: Invalid input: {rval}&quot;</span>.format(rval=rval))</div>
<div class="line"><span class="lineno">   84</span>        <span class="keywordflow">return</span> <span class="keyword">False</span></div>
<div class="line"><span class="lineno">   85</span>    data_crc = int(rval[-4:], base=16)</div>
<div class="line"><span class="lineno">   86</span>    CRC_calc = crc16pure.crc16xmodem(str2bytes(rval[:-4]))</div>
<div class="line"><span class="lineno">   87</span>    <span class="keywordflow">return</span> CRC_calc == data_crc</div>
<div class="line"><span class="lineno">   88</span> </div>
<div class="line"><span class="lineno">   89</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a5559f8d9dde2a1f2e8dfaeb137dc0d8f" name="a5559f8d9dde2a1f2e8dfaeb137dc0d8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5559f8d9dde2a1f2e8dfaeb137dc0d8f">&#9670;&#160;</a></span>flattenlist()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">nsCamera.utils.misc.flattenlist </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>x</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Flatten list of lists recursively into single list
</pre> 
<p class="definition">Definition at line <a class="el" href="misc_8py_source.html#l00179">179</a> of file <a class="el" href="misc_8py_source.html">misc.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  179</span><span class="keyword">def </span>flattenlist(x):</div>
<div class="line"><span class="lineno">  180</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  181</span><span class="stringliteral">    Flatten list of lists recursively into single list</span></div>
<div class="line"><span class="lineno">  182</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  183</span>    python, _, _, _, _ = sys.version_info</div>
<div class="line"><span class="lineno">  184</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  185</span>        <span class="keywordflow">if</span> python &gt;= 3:</div>
<div class="line"><span class="lineno">  186</span>            <span class="keywordflow">if</span> isinstance(x, collections.abc.Iterable):</div>
<div class="line"><span class="lineno">  187</span>                <span class="keywordflow">return</span> [a <span class="keywordflow">for</span> i <span class="keywordflow">in</span> x <span class="keywordflow">for</span> a <span class="keywordflow">in</span> flattenlist(i)]</div>
<div class="line"><span class="lineno">  188</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  189</span>                <span class="keywordflow">return</span> [x]</div>
<div class="line"><span class="lineno">  190</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  191</span>            <span class="keywordflow">if</span> isinstance(x, collections.Iterable):</div>
<div class="line"><span class="lineno">  192</span>                <span class="keywordflow">return</span> [a <span class="keywordflow">for</span> i <span class="keywordflow">in</span> x <span class="keywordflow">for</span> a <span class="keywordflow">in</span> flattenlist(i)]</div>
<div class="line"><span class="lineno">  193</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  194</span>                <span class="keywordflow">return</span> [x]</div>
<div class="line"><span class="lineno">  195</span>    <span class="keywordflow">except</span> RecursionError:</div>
<div class="line"><span class="lineno">  196</span>        logging.error(</div>
<div class="line"><span class="lineno">  197</span>            <span class="stringliteral">&quot;ERROR: flattenlist: input &#39;{x}&#39; is pathological and cannot be flattened.&quot;</span></div>
<div class="line"><span class="lineno">  198</span>            <span class="stringliteral">&quot; Attempting to return the input unchanged&quot;</span></div>
<div class="line"><span class="lineno">  199</span>        )</div>
<div class="line"><span class="lineno">  200</span>        <span class="keywordflow">return</span> x</div>
<div class="line"><span class="lineno">  201</span> </div>
<div class="line"><span class="lineno">  202</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae28faecdaf20d51a38539068da2e64a7" name="ae28faecdaf20d51a38539068da2e64a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae28faecdaf20d51a38539068da2e64a7">&#9670;&#160;</a></span>generateFrames()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">nsCamera.utils.misc.generateFrames </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>camassem</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>data</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>columns</em><span class="paramdefsep"> = </span><span class="paramdefval">1</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Processes data stream from board into frames and applies sensor-specific parsing.
  Generates padded data for full-size option of setRows.
If used for offline processing, replace the 'self' object with the parameter object
  returned by loadDumpedData().
If the data stream is incomplete (e.g., from an interrupted download), the data is
  padded with zeros to the correct length.

Args:
    self: during normal operation, is the CameraAssembler object. During offline
      operation, is a parameters object as returned by loadDumpedData()
    data: text stream from board or loaded file, or numpy from loaded file
    columns: 1 for single image, 2 for separate hemisphere images

Returns: list of parsed frames
</pre> 
<p class="definition">Definition at line <a class="el" href="misc_8py_source.html#l00261">261</a> of file <a class="el" href="misc_8py_source.html">misc.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  261</span><span class="keyword">def </span>generateFrames(camassem, data, columns=1):</div>
<div class="line"><span class="lineno">  262</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  263</span><span class="stringliteral">    Processes data stream from board into frames and applies sensor-specific parsing.</span></div>
<div class="line"><span class="lineno">  264</span><span class="stringliteral">      Generates padded data for full-size option of setRows.</span></div>
<div class="line"><span class="lineno">  265</span><span class="stringliteral">    If used for offline processing, replace the &#39;self&#39; object with the parameter object</span></div>
<div class="line"><span class="lineno">  266</span><span class="stringliteral">      returned by loadDumpedData().</span></div>
<div class="line"><span class="lineno">  267</span><span class="stringliteral">    If the data stream is incomplete (e.g., from an interrupted download), the data is</span></div>
<div class="line"><span class="lineno">  268</span><span class="stringliteral">      padded with zeros to the correct length.</span></div>
<div class="line"><span class="lineno">  269</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  270</span><span class="stringliteral">    Args:</span></div>
<div class="line"><span class="lineno">  271</span><span class="stringliteral">        self: during normal operation, is the CameraAssembler object. During offline</span></div>
<div class="line"><span class="lineno">  272</span><span class="stringliteral">          operation, is a parameters object as returned by loadDumpedData()</span></div>
<div class="line"><span class="lineno">  273</span><span class="stringliteral">        data: text stream from board or loaded file, or numpy from loaded file</span></div>
<div class="line"><span class="lineno">  274</span><span class="stringliteral">        columns: 1 for single image, 2 for separate hemisphere images</span></div>
<div class="line"><span class="lineno">  275</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  276</span><span class="stringliteral">    Returns: list of parsed frames</span></div>
<div class="line"><span class="lineno">  277</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  278</span>    logging.debug(<span class="stringliteral">&quot;DEBUG&quot;</span> + camassem.logtag + <span class="stringliteral">&quot;: generateFrames&quot;</span>)</div>
<div class="line"><span class="lineno">  279</span>    <span class="keywordflow">if</span> isinstance(data[0], str):</div>
<div class="line"><span class="lineno">  280</span>        allframes = str2nparray(data)</div>
<div class="line"><span class="lineno">  281</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  282</span>        allframes = data</div>
<div class="line"><span class="lineno">  283</span>    nframes = camassem.sensor.lastframe - camassem.sensor.firstframe + 1</div>
<div class="line"><span class="lineno">  284</span>    frames = [0] * nframes</div>
<div class="line"><span class="lineno">  285</span>    framesize = camassem.sensor.width * (</div>
<div class="line"><span class="lineno">  286</span>        camassem.sensor.lastrow - camassem.sensor.firstrow + 1</div>
<div class="line"><span class="lineno">  287</span>    )</div>
<div class="line"><span class="lineno">  288</span>    <span class="keywordflow">if</span> hasattr(camassem, <span class="stringliteral">&quot;ca&quot;</span>):</div>
<div class="line"><span class="lineno">  289</span>        padIt = camassem.ca.padToFull</div>
<div class="line"><span class="lineno">  290</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  291</span>        padIt = camassem.padToFull</div>
<div class="line"><span class="lineno">  292</span>    <span class="keywordflow">if</span> padIt:</div>
<div class="line"><span class="lineno">  293</span>        toprows = camassem.sensor.firstrow</div>
<div class="line"><span class="lineno">  294</span>        botrows = (camassem.sensor.maxheight - 1) - camassem.sensor.lastrow</div>
<div class="line"><span class="lineno">  295</span>        padtop = np.zeros(toprows * camassem.sensor.maxwidth, dtype=int)</div>
<div class="line"><span class="lineno">  296</span>        padbot = np.zeros(botrows * camassem.sensor.maxwidth, dtype=int)</div>
<div class="line"><span class="lineno">  297</span>        <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(nframes):</div>
<div class="line"><span class="lineno">  298</span>            thisframe = np.concatenate(</div>
<div class="line"><span class="lineno">  299</span>                (padtop, allframes[n * framesize : ((n + 1) * framesize)], padbot)</div>
<div class="line"><span class="lineno">  300</span>            )</div>
<div class="line"><span class="lineno">  301</span>            frames[n] = thisframe</div>
<div class="line"><span class="lineno">  302</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  303</span>        <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(nframes):</div>
<div class="line"><span class="lineno">  304</span>            frames[n] = allframes[n * framesize : (n + 1) * framesize]</div>
<div class="line"><span class="lineno">  305</span>    <span class="comment"># self.clearStatus()</span></div>
<div class="line"><span class="lineno">  306</span>    parsed = camassem.sensor.parseReadoff(frames, columns)</div>
<div class="line"><span class="lineno">  307</span>    <span class="keywordflow">return</span> parsed</div>
<div class="line"><span class="lineno">  308</span> </div>
<div class="line"><span class="lineno">  309</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a4abecc9a86c9608ab4e96607ff792fef" name="a4abecc9a86c9608ab4e96607ff792fef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4abecc9a86c9608ab4e96607ff792fef">&#9670;&#160;</a></span>getEnter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">nsCamera.utils.misc.getEnter </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>text</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Wait for enter key to be pressed.

Args:
    text: message asking for keypress
</pre> 
<p class="definition">Definition at line <a class="el" href="misc_8py_source.html#l00058">58</a> of file <a class="el" href="misc_8py_source.html">misc.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   58</span><span class="keyword">def </span>getEnter(text):</div>
<div class="line"><span class="lineno">   59</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   60</span><span class="stringliteral">    Wait for enter key to be pressed.</span></div>
<div class="line"><span class="lineno">   61</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   62</span><span class="stringliteral">    Args:</span></div>
<div class="line"><span class="lineno">   63</span><span class="stringliteral">        text: message asking for keypress</span></div>
<div class="line"><span class="lineno">   64</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   65</span>    python, _, _, _, _ = sys.version_info</div>
<div class="line"><span class="lineno">   66</span>    <span class="keywordflow">if</span> python &gt;= 3:</div>
<div class="line"><span class="lineno">   67</span>        input(text)</div>
<div class="line"><span class="lineno">   68</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">   69</span>        raw_input(text)</div>
<div class="line"><span class="lineno">   70</span> </div>
<div class="line"><span class="lineno">   71</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a0824d6198316d0e78b641244e12b4803" name="a0824d6198316d0e78b641244e12b4803"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0824d6198316d0e78b641244e12b4803">&#9670;&#160;</a></span>loadDumpedData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">nsCamera.utils.misc.loadDumpedData </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>filename</em><span class="paramdefsep"> = </span><span class="paramdefval">&quot;frames.txt&quot;</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>path</em><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>filetype</em><span class="paramdefsep"> = </span><span class="paramdefval">&quot;txt&quot;</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>sensor</em><span class="paramdefsep"> = </span><span class="paramdefval">&quot;daedalus&quot;</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>firstframe</em><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>lastframe</em><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>width</em><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>height</em><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>padToFull</em><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>firstrow</em><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>lastrow</em><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>maxwidth</em><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>maxheight</em><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>bytesperpixel</em><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>interlacing</em><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>columns</em><span class="paramdefsep"> = </span><span class="paramdefval">1</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">_summary_

    Output can be piped directly to saveTiffs:
        pars,frames=loadDumpedData(filename="Dump.npy")
        saveTiffs(pars,frames)
Args:
    filename (str, optional): _description_. Defaults to "frames.txt".
    path (_type_, optional): _description_. Defaults to None.
    filetype (str, optional): _description_. Defaults to "txt".
    sensor (str, optional): _description_. Defaults to "daedalus".
    firstframe (_type_, optional): _description_. Defaults to None.
    lastframe (_type_, optional): _description_. Defaults to None.
    width (_type_, optional): _description_. Defaults to None.
    height (_type_, optional): _description_. Defaults to None.
    padToFull (_type_, optional): _description_. Defaults to None.
    firstrow (_type_, optional): _description_. Defaults to None.
    lastrow (_type_, optional): _description_. Defaults to None.
    maxwidth (_type_, optional): _description_. Defaults to None.
    maxheight (_type_, optional): _description_. Defaults to None.
    interlacing (_type_, optional): _description_. Defaults to None.
    columns (int, optional): _description_. Defaults to 1.


Returns:
    Tuple (parameter object, list of data frames)
</pre> 
<p class="definition">Definition at line <a class="el" href="misc_8py_source.html#l00310">310</a> of file <a class="el" href="misc_8py_source.html">misc.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  327</span>):</div>
<div class="line"><span class="lineno">  328</span>    <span class="stringliteral">&quot;&quot;&quot;_summary_</span></div>
<div class="line"><span class="lineno">  329</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  330</span><span class="stringliteral">        Output can be piped directly to saveTiffs:</span></div>
<div class="line"><span class="lineno">  331</span><span class="stringliteral">            pars,frames=loadDumpedData(filename=&quot;Dump.npy&quot;)</span></div>
<div class="line"><span class="lineno">  332</span><span class="stringliteral">            saveTiffs(pars,frames)</span></div>
<div class="line"><span class="lineno">  333</span><span class="stringliteral">    Args:</span></div>
<div class="line"><span class="lineno">  334</span><span class="stringliteral">        filename (str, optional): _description_. Defaults to &quot;frames.txt&quot;.</span></div>
<div class="line"><span class="lineno">  335</span><span class="stringliteral">        path (_type_, optional): _description_. Defaults to None.</span></div>
<div class="line"><span class="lineno">  336</span><span class="stringliteral">        filetype (str, optional): _description_. Defaults to &quot;txt&quot;.</span></div>
<div class="line"><span class="lineno">  337</span><span class="stringliteral">        sensor (str, optional): _description_. Defaults to &quot;daedalus&quot;.</span></div>
<div class="line"><span class="lineno">  338</span><span class="stringliteral">        firstframe (_type_, optional): _description_. Defaults to None.</span></div>
<div class="line"><span class="lineno">  339</span><span class="stringliteral">        lastframe (_type_, optional): _description_. Defaults to None.</span></div>
<div class="line"><span class="lineno">  340</span><span class="stringliteral">        width (_type_, optional): _description_. Defaults to None.</span></div>
<div class="line"><span class="lineno">  341</span><span class="stringliteral">        height (_type_, optional): _description_. Defaults to None.</span></div>
<div class="line"><span class="lineno">  342</span><span class="stringliteral">        padToFull (_type_, optional): _description_. Defaults to None.</span></div>
<div class="line"><span class="lineno">  343</span><span class="stringliteral">        firstrow (_type_, optional): _description_. Defaults to None.</span></div>
<div class="line"><span class="lineno">  344</span><span class="stringliteral">        lastrow (_type_, optional): _description_. Defaults to None.</span></div>
<div class="line"><span class="lineno">  345</span><span class="stringliteral">        maxwidth (_type_, optional): _description_. Defaults to None.</span></div>
<div class="line"><span class="lineno">  346</span><span class="stringliteral">        maxheight (_type_, optional): _description_. Defaults to None.</span></div>
<div class="line"><span class="lineno">  347</span><span class="stringliteral">        interlacing (_type_, optional): _description_. Defaults to None.</span></div>
<div class="line"><span class="lineno">  348</span><span class="stringliteral">        columns (int, optional): _description_. Defaults to 1.</span></div>
<div class="line"><span class="lineno">  349</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  350</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  351</span><span class="stringliteral">    Returns:</span></div>
<div class="line"><span class="lineno">  352</span><span class="stringliteral">        Tuple (parameter object, list of data frames)</span></div>
<div class="line"><span class="lineno">  353</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  354</span>    logging.debug(<span class="stringliteral">&quot;DEBUG: loadDumpedData&quot;</span>)</div>
<div class="line"><span class="lineno">  355</span>    <span class="keywordflow">if</span> sensor.lower() == <span class="stringliteral">&quot;daedalus&quot;</span>:</div>
<div class="line"><span class="lineno">  356</span>        <span class="keyword">import</span> <a class="code hl_class" href="classns_camera_1_1sensors_1_1daedalus_1_1daedalus.html">nsCamera.sensors.daedalus</a> <span class="keyword">as</span> snsr</div>
<div class="line"><span class="lineno">  357</span>    <span class="keywordflow">elif</span> sensor.lower() == <span class="stringliteral">&quot;icarus&quot;</span>:</div>
<div class="line"><span class="lineno">  358</span>        <span class="keyword">import</span> <a class="code hl_class" href="classns_camera_1_1sensors_1_1icarus_1_1icarus.html">nsCamera.sensors.icarus</a> <span class="keyword">as</span> snsr</div>
<div class="line"><span class="lineno">  359</span>    <span class="keywordflow">elif</span> sensor.lower() == <span class="stringliteral">&quot;icarus2&quot;</span>:</div>
<div class="line"><span class="lineno">  360</span>        <span class="keyword">import</span> <a class="code hl_class" href="classns_camera_1_1sensors_1_1icarus2_1_1icarus2.html">nsCamera.sensors.icarus2</a> <span class="keyword">as</span> snsr</div>
<div class="line"><span class="lineno">  361</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  362</span>        logging.error(</div>
<div class="line"><span class="lineno">  363</span>            <span class="stringliteral">&quot;ERROR loadDumpedData: invalid sensor type provided, defaulting to icarus2&quot;</span></div>
<div class="line"><span class="lineno">  364</span>        )</div>
<div class="line"><span class="lineno">  365</span>        <span class="keyword">import</span> <a class="code hl_class" href="classns_camera_1_1sensors_1_1icarus2_1_1icarus2.html">nsCamera.sensors.icarus2</a> <span class="keyword">as</span> snsr</div>
<div class="line"><span class="lineno">  366</span> </div>
<div class="line"><span class="lineno">  367</span>    <span class="keyword">def </span>buildEmptyFrames():</div>
<div class="line"><span class="lineno">  368</span>        cols = [0] * 512</div>
<div class="line"><span class="lineno">  369</span>        frame = np.array([cols] * (lastrow - firstrow + 1))</div>
<div class="line"><span class="lineno">  370</span>        <span class="keywordflow">return</span> [frame] * (lastframe - firstframe + 1)</div>
<div class="line"><span class="lineno">  371</span> </div>
<div class="line"><span class="lineno">  372</span>    <span class="comment"># get defaults from class declarations if not specified as parameter</span></div>
<div class="line"><span class="lineno">  373</span>    <span class="keywordflow">if</span> firstframe <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  374</span>        firstframe = snsr.firstframe</div>
<div class="line"><span class="lineno">  375</span>    <span class="keywordflow">if</span> lastframe <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  376</span>        lastframe = snsr.lastframe</div>
<div class="line"><span class="lineno">  377</span>    <span class="comment"># TODO: first frame number</span></div>
<div class="line"><span class="lineno">  378</span>    <span class="keywordflow">if</span> width <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  379</span>        width = snsr.width</div>
<div class="line"><span class="lineno">  380</span>    <span class="keywordflow">if</span> height <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  381</span>        height = snsr.height</div>
<div class="line"><span class="lineno">  382</span>    <span class="keywordflow">if</span> firstrow <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  383</span>        firstrow = snsr.firstrow</div>
<div class="line"><span class="lineno">  384</span>    <span class="keywordflow">if</span> lastrow <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  385</span>        lastrow = snsr.lastrow</div>
<div class="line"><span class="lineno">  386</span>    <span class="keywordflow">if</span> maxwidth <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  387</span>        maxwidth = snsr.maxwidth</div>
<div class="line"><span class="lineno">  388</span>    <span class="keywordflow">if</span> maxheight <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  389</span>        maxheight = snsr.maxheight</div>
<div class="line"><span class="lineno">  390</span>    <span class="keywordflow">if</span> bytesperpixel <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  391</span>        bytesperpixel = snsr.bytesperpixel</div>
<div class="line"><span class="lineno">  392</span>    <span class="keywordflow">if</span> interlacing <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  393</span>        interlacing = snsr.interlacing</div>
<div class="line"><span class="lineno">  394</span> </div>
<div class="line"><span class="lineno">  395</span>    parameters = fakeCA(</div>
<div class="line"><span class="lineno">  396</span>        sensor,</div>
<div class="line"><span class="lineno">  397</span>        firstframe,</div>
<div class="line"><span class="lineno">  398</span>        lastframe,</div>
<div class="line"><span class="lineno">  399</span>        width,</div>
<div class="line"><span class="lineno">  400</span>        height,</div>
<div class="line"><span class="lineno">  401</span>        padToFull,</div>
<div class="line"><span class="lineno">  402</span>        firstrow,</div>
<div class="line"><span class="lineno">  403</span>        lastrow,</div>
<div class="line"><span class="lineno">  404</span>        maxwidth,</div>
<div class="line"><span class="lineno">  405</span>        maxheight,</div>
<div class="line"><span class="lineno">  406</span>        bytesperpixel,</div>
<div class="line"><span class="lineno">  407</span>        interlacing,</div>
<div class="line"><span class="lineno">  408</span>    )</div>
<div class="line"><span class="lineno">  409</span> </div>
<div class="line"><span class="lineno">  410</span>    <span class="keywordflow">if</span> path <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  411</span>        path = os.path.join(os.getcwd())</div>
<div class="line"><span class="lineno">  412</span>    datafile = os.path.join(path, filename)</div>
<div class="line"><span class="lineno">  413</span>    <span class="keywordflow">if</span> filename[-3:].lower() == <span class="stringliteral">&quot;txt&quot;</span>:</div>
<div class="line"><span class="lineno">  414</span>        filetype = <span class="stringliteral">&quot;txt&quot;</span></div>
<div class="line"><span class="lineno">  415</span>    <span class="keywordflow">elif</span> filename[-3:].lower() == <span class="stringliteral">&quot;npy&quot;</span>:</div>
<div class="line"><span class="lineno">  416</span>        filetype = <span class="stringliteral">&quot;npy&quot;</span></div>
<div class="line"><span class="lineno">  417</span>    <span class="comment"># TODO: return empty frames if error</span></div>
<div class="line"><span class="lineno">  418</span> </div>
<div class="line"><span class="lineno">  419</span>    <span class="keywordflow">if</span> filetype == <span class="stringliteral">&quot;npy&quot;</span>:</div>
<div class="line"><span class="lineno">  420</span>        expectedlength = (lastframe - firstframe + 1) * (lastrow - firstrow + 1) * width</div>
<div class="line"><span class="lineno">  421</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  422</span>            f = np.load(datafile)</div>
<div class="line"><span class="lineno">  423</span>            padding = expectedlength - len(f)</div>
<div class="line"><span class="lineno">  424</span>            <span class="keywordflow">if</span> padding:</div>
<div class="line"><span class="lineno">  425</span>                logging.warning(</div>
<div class="line"><span class="lineno">  426</span>                    <span class="stringliteral">&quot;{logwarn}loadDumpedData: Payload is shorter than expected.&quot;</span></div>
<div class="line"><span class="lineno">  427</span>                    <span class="stringliteral">&quot; Padding with &#39;0&#39;s&quot;</span>.format(logwarn=parameters.logwarn)</div>
<div class="line"><span class="lineno">  428</span>                )</div>
<div class="line"><span class="lineno">  429</span>                f = np.pad(f, (0, padding), <span class="stringliteral">&quot;constant&quot;</span>, constant_values=(0))</div>
<div class="line"><span class="lineno">  430</span>            frames = generateFrames(parameters, f, columns)</div>
<div class="line"><span class="lineno">  431</span>            <span class="keywordflow">return</span> parameters, frames</div>
<div class="line"><span class="lineno">  432</span> </div>
<div class="line"><span class="lineno">  433</span>        <span class="keywordflow">except</span> OSError <span class="keyword">as</span> err:</div>
<div class="line"><span class="lineno">  434</span>            logging.error(</div>
<div class="line"><span class="lineno">  435</span>                <span class="stringliteral">&quot;{logerr}loadDumpedData: OS error: {err}. Returning empty&quot;</span></div>
<div class="line"><span class="lineno">  436</span>                <span class="stringliteral">&quot; frames.&quot;</span>.format(logerr=parameters.logerr, err=err)</div>
<div class="line"><span class="lineno">  437</span>            )</div>
<div class="line"><span class="lineno">  438</span>            <span class="keywordflow">return</span> parameters, buildEmptyFrames()</div>
<div class="line"><span class="lineno">  439</span>        <span class="keywordflow">except</span>:</div>
<div class="line"><span class="lineno">  440</span>            logging.error(</div>
<div class="line"><span class="lineno">  441</span>                <span class="stringliteral">&quot;{logerr}loadDumpedData: Unexpected error: {err}. Returning empty&quot;</span></div>
<div class="line"><span class="lineno">  442</span>                <span class="stringliteral">&quot; frames.&quot;</span>.format(logerr=parameters.logerr, err=str(sys.exc_info()[0]))</div>
<div class="line"><span class="lineno">  443</span>            )</div>
<div class="line"><span class="lineno">  444</span>            <span class="keywordflow">return</span> parameters, buildEmptyFrames()</div>
<div class="line"><span class="lineno">  445</span>    <span class="comment"># if filetype is not explicitly npy, try loading as text</span></div>
<div class="line"><span class="lineno">  446</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  447</span>        <span class="comment"># Payload size as string implied by provided parameters</span></div>
<div class="line"><span class="lineno">  448</span>        expectedlength = (</div>
<div class="line"><span class="lineno">  449</span>            4 * (lastframe - firstframe + 1) * (lastrow - firstrow + 1) * width</div>
<div class="line"><span class="lineno">  450</span>        )</div>
<div class="line"><span class="lineno">  451</span> </div>
<div class="line"><span class="lineno">  452</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  453</span>            f = open(datafile, <span class="stringliteral">&quot;r&quot;</span>)</div>
<div class="line"><span class="lineno">  454</span>            s = f.read()</div>
<div class="line"><span class="lineno">  455</span> </div>
<div class="line"><span class="lineno">  456</span>            padding = expectedlength - len(s)</div>
<div class="line"><span class="lineno">  457</span>            <span class="keywordflow">if</span> padding:</div>
<div class="line"><span class="lineno">  458</span>                logging.warning(</div>
<div class="line"><span class="lineno">  459</span>                    <span class="stringliteral">&quot;{logwarn}loadDumpedData: Payload is shorter than expected.&quot;</span></div>
<div class="line"><span class="lineno">  460</span>                    <span class="stringliteral">&quot; Padding with &#39;0&#39;s&quot;</span>.format(logwarn=parameters.logwarn)</div>
<div class="line"><span class="lineno">  461</span>                )</div>
<div class="line"><span class="lineno">  462</span>                s = s.ljust(expectedlength, <span class="stringliteral">&quot;0&quot;</span>)</div>
<div class="line"><span class="lineno">  463</span> </div>
<div class="line"><span class="lineno">  464</span>            frames = generateFrames(parameters, s)</div>
<div class="line"><span class="lineno">  465</span>            <span class="keywordflow">return</span> parameters, frames</div>
<div class="line"><span class="lineno">  466</span> </div>
<div class="line"><span class="lineno">  467</span>        <span class="keywordflow">except</span> OSError <span class="keyword">as</span> err:</div>
<div class="line"><span class="lineno">  468</span>            logging.error(</div>
<div class="line"><span class="lineno">  469</span>                <span class="stringliteral">&quot;{logerr}loadDumpedData: OS error: {err}. Returning empty&quot;</span></div>
<div class="line"><span class="lineno">  470</span>                <span class="stringliteral">&quot; frames.&quot;</span>.format(logerr=parameters.logerr, err=err)</div>
<div class="line"><span class="lineno">  471</span>            )</div>
<div class="line"><span class="lineno">  472</span>            <span class="keywordflow">return</span> parameters, buildEmptyFrames()</div>
<div class="line"><span class="lineno">  473</span>        <span class="keywordflow">except</span> ValueError:</div>
<div class="line"><span class="lineno">  474</span>            logging.error(</div>
<div class="line"><span class="lineno">  475</span>                <span class="stringliteral">&quot;{logerr}loadDumpedData: Could not convert data to an integer.&quot;</span></div>
<div class="line"><span class="lineno">  476</span>                <span class="stringliteral">&quot; Returning empty frames.&quot;</span>.format(logerr=parameters.logerr)</div>
<div class="line"><span class="lineno">  477</span>            )</div>
<div class="line"><span class="lineno">  478</span>            <span class="keywordflow">return</span> parameters, buildEmptyFrames()</div>
<div class="line"><span class="lineno">  479</span>        <span class="keywordflow">except</span>:</div>
<div class="line"><span class="lineno">  480</span>            logging.error(</div>
<div class="line"><span class="lineno">  481</span>                <span class="stringliteral">&quot;{logerr}loadDumpedData: Unexpected error: {err}. Returning empty&quot;</span></div>
<div class="line"><span class="lineno">  482</span>                <span class="stringliteral">&quot; frames.&quot;</span>.format(logerr=parameters.logerr, err=str(sys.exc_info()[0]))</div>
<div class="line"><span class="lineno">  483</span>            )</div>
<div class="line"><span class="lineno">  484</span>            <span class="keywordflow">return</span> parameters, buildEmptyFrames()</div>
<div class="line"><span class="lineno">  485</span> </div>
<div class="line"><span class="lineno">  486</span> </div>
<div class="ttc" id="aclassns_camera_1_1sensors_1_1daedalus_1_1daedalus_html"><div class="ttname"><a href="classns_camera_1_1sensors_1_1daedalus_1_1daedalus.html">nsCamera.sensors.daedalus.daedalus</a></div><div class="ttdef"><b>Definition</b> <a href="daedalus_8py_source.html#l00030">daedalus.py:30</a></div></div>
<div class="ttc" id="aclassns_camera_1_1sensors_1_1icarus2_1_1icarus2_html"><div class="ttname"><a href="classns_camera_1_1sensors_1_1icarus2_1_1icarus2.html">nsCamera.sensors.icarus2.icarus2</a></div><div class="ttdef"><b>Definition</b> <a href="icarus2_8py_source.html#l00024">icarus2.py:24</a></div></div>
<div class="ttc" id="aclassns_camera_1_1sensors_1_1icarus_1_1icarus_html"><div class="ttname"><a href="classns_camera_1_1sensors_1_1icarus_1_1icarus.html">nsCamera.sensors.icarus.icarus</a></div><div class="ttdef"><b>Definition</b> <a href="icarus_8py_source.html#l00027">icarus.py:27</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a859c03da9eee6a047fbfa454bf0f1530" name="a859c03da9eee6a047fbfa454bf0f1530"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a859c03da9eee6a047fbfa454bf0f1530">&#9670;&#160;</a></span>makeLogLabels()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">nsCamera.utils.misc.makeLogLabels </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>logtag</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>label</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="misc_8py_source.html#l00039">39</a> of file <a class="el" href="misc_8py_source.html">misc.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   39</span><span class="keyword">def </span>makeLogLabels(logtag, label):</div>
<div class="line"><span class="lineno">   40</span>    <span class="keywordflow">if</span> logtag <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">   41</span>        logtag = <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno">   42</span> </div>
<div class="line"><span class="lineno">   43</span>    logcritbase = <span class="stringliteral">&quot;CRITICAL{logtag}: &quot;</span>.format(logtag=logtag)</div>
<div class="line"><span class="lineno">   44</span>    logerrbase = <span class="stringliteral">&quot;ERROR{logtag}: &quot;</span>.format(logtag=logtag)</div>
<div class="line"><span class="lineno">   45</span>    logwarnbase = <span class="stringliteral">&quot;WARNING{logtag}: &quot;</span>.format(logtag=logtag)</div>
<div class="line"><span class="lineno">   46</span>    loginfobase = <span class="stringliteral">&quot;INFO{logtag}: &quot;</span>.format(logtag=logtag)</div>
<div class="line"><span class="lineno">   47</span>    logdebugbase = <span class="stringliteral">&quot;DEBUG{logtag}: &quot;</span>.format(logtag=logtag)</div>
<div class="line"><span class="lineno">   48</span> </div>
<div class="line"><span class="lineno">   49</span>    logcrit = <span class="stringliteral">&quot;{base}{label}&quot;</span>.format(base=logcritbase, label=label)</div>
<div class="line"><span class="lineno">   50</span>    logerr = <span class="stringliteral">&quot;{base}{label}&quot;</span>.format(base=logerrbase, label=label)</div>
<div class="line"><span class="lineno">   51</span>    logwarn = <span class="stringliteral">&quot;{base}{label}&quot;</span>.format(base=logwarnbase, label=label)</div>
<div class="line"><span class="lineno">   52</span>    loginfo = <span class="stringliteral">&quot;{base}{label}&quot;</span>.format(base=loginfobase, label=label)</div>
<div class="line"><span class="lineno">   53</span>    logdebug = <span class="stringliteral">&quot;{base}{label}&quot;</span>.format(base=logdebugbase, label=label)</div>
<div class="line"><span class="lineno">   54</span> </div>
<div class="line"><span class="lineno">   55</span>    <span class="keywordflow">return</span> logcrit, logerr, logwarn, loginfo, logdebug</div>
<div class="line"><span class="lineno">   56</span> </div>
<div class="line"><span class="lineno">   57</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="abce8867a57c8b20fd2dbd5203e1897e7" name="abce8867a57c8b20fd2dbd5203e1897e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abce8867a57c8b20fd2dbd5203e1897e7">&#9670;&#160;</a></span>partition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">nsCamera.utils.misc.partition </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>frames</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>columns</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Extracts interlaced frames and divides images by hemispheres. If interlacing does
  not evenly divide the height, remainder lines will be dropped

Args:
    self: during normal operation, is sensor object. During offline
      operation, is the parameter.sensor object returned by loadDumpedData()
    frames: list of full-sized frames
    columns: 1 for single image, 2 for separate hemisphere images

Returns: list of deinterlaced frames
</pre> 
<p class="definition">Definition at line <a class="el" href="misc_8py_source.html#l00634">634</a> of file <a class="el" href="misc_8py_source.html">misc.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  634</span><span class="keyword">def </span>partition(self, frames, columns):</div>
<div class="line"><span class="lineno">  635</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  636</span><span class="stringliteral">    Extracts interlaced frames and divides images by hemispheres. If interlacing does</span></div>
<div class="line"><span class="lineno">  637</span><span class="stringliteral">      not evenly divide the height, remainder lines will be dropped</span></div>
<div class="line"><span class="lineno">  638</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  639</span><span class="stringliteral">    Args:</span></div>
<div class="line"><span class="lineno">  640</span><span class="stringliteral">        self: during normal operation, is sensor object. During offline</span></div>
<div class="line"><span class="lineno">  641</span><span class="stringliteral">          operation, is the parameter.sensor object returned by loadDumpedData()</span></div>
<div class="line"><span class="lineno">  642</span><span class="stringliteral">        frames: list of full-sized frames</span></div>
<div class="line"><span class="lineno">  643</span><span class="stringliteral">        columns: 1 for single image, 2 for separate hemisphere images</span></div>
<div class="line"><span class="lineno">  644</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  645</span><span class="stringliteral">    Returns: list of deinterlaced frames</span></div>
<div class="line"><span class="lineno">  646</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  647</span>    logging.debug(</div>
<div class="line"><span class="lineno">  648</span>        <span class="stringliteral">&quot;{logdebug}partition: columns = {columns}, interlacing = {interlacing}&quot;</span>.format(</div>
<div class="line"><span class="lineno">  649</span>            logdebug=self.logdebug, columns=columns, interlacing=self.sensor.interlacing</div>
<div class="line"><span class="lineno">  650</span>        )</div>
<div class="line"><span class="lineno">  651</span>    )</div>
<div class="line"><span class="lineno">  652</span> </div>
<div class="line"><span class="lineno">  653</span>    <span class="keyword">def </span>unshuffle(frames, ifactor):</div>
<div class="line"><span class="lineno">  654</span>        warntrimmed = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  655</span>        <span class="keywordflow">if</span> self.padToFull:</div>
<div class="line"><span class="lineno">  656</span>            newheight = self.sensor.maxheight // (ifactor + 1)</div>
<div class="line"><span class="lineno">  657</span>            <span class="keywordflow">if</span> newheight != (self.sensor.maxheight / (ifactor + 1)):</div>
<div class="line"><span class="lineno">  658</span>                warntrimmed = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  659</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  660</span>            newheight = self.sensor.height // (ifactor + 1)</div>
<div class="line"><span class="lineno">  661</span>            <span class="keywordflow">if</span> newheight != (self.sensor.height / (ifactor + 1)):</div>
<div class="line"><span class="lineno">  662</span>                warntrimmed = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  663</span> </div>
<div class="line"><span class="lineno">  664</span>        <span class="keywordflow">if</span> warntrimmed:</div>
<div class="line"><span class="lineno">  665</span>            logging.warning(</div>
<div class="line"><span class="lineno">  666</span>                <span class="stringliteral">&quot;{logwarn} partition: interlacing setting requires dropping of lines to&quot;</span></div>
<div class="line"><span class="lineno">  667</span>                <span class="stringliteral">&quot; maintain consistent frame sizes &quot;</span>.format(logwarn=self.logwarn)</div>
<div class="line"><span class="lineno">  668</span>            )</div>
<div class="line"><span class="lineno">  669</span>        delaced = []</div>
<div class="line"><span class="lineno">  670</span>        <span class="keywordflow">for</span> frame <span class="keywordflow">in</span> frames:</div>
<div class="line"><span class="lineno">  671</span>            <span class="keywordflow">for</span> sub <span class="keywordflow">in</span> range(ifactor + 1):</div>
<div class="line"><span class="lineno">  672</span>                current = np.zeros((newheight, self.sensor.width // columns), dtype=int)</div>
<div class="line"><span class="lineno">  673</span>                <span class="keywordflow">for</span> line <span class="keywordflow">in</span> range(newheight):</div>
<div class="line"><span class="lineno">  674</span>                    current[line] = frame[(ifactor + 1) * line + sub]</div>
<div class="line"><span class="lineno">  675</span>                delaced.append(current)</div>
<div class="line"><span class="lineno">  676</span>        nframes = self.sensor.lastframe - self.sensor.firstframe + 1</div>
<div class="line"><span class="lineno">  677</span>        resorted = [<span class="keywordtype">None</span>] * len(delaced)</div>
<div class="line"><span class="lineno">  678</span>        <span class="keywordflow">for</span> sub <span class="keywordflow">in</span> range(ifactor + 1):</div>
<div class="line"><span class="lineno">  679</span>            <span class="keywordflow">for</span> idx, frame <span class="keywordflow">in</span> enumerate(frames):</div>
<div class="line"><span class="lineno">  680</span>                resorted[sub * nframes + idx] = delaced[idx * (ifactor + 1) + sub]</div>
<div class="line"><span class="lineno">  681</span>        <span class="keywordflow">return</span> resorted</div>
<div class="line"><span class="lineno">  682</span> </div>
<div class="line"><span class="lineno">  683</span>    <span class="keywordflow">if</span> self.sensor.interlacing[0] != self.sensor.interlacing[1]:</div>
<div class="line"><span class="lineno">  684</span>        columns = 2  <span class="comment"># true even if not explicitly requested by readoff</span></div>
<div class="line"><span class="lineno">  685</span>    <span class="keywordflow">if</span> columns == 1:</div>
<div class="line"><span class="lineno">  686</span>        <span class="keywordflow">if</span> self.sensor.interlacing == [0, 0]:  <span class="comment"># don&#39;t do anything</span></div>
<div class="line"><span class="lineno">  687</span>            <span class="keywordflow">return</span> frames</div>
<div class="line"><span class="lineno">  688</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  689</span>            <span class="keywordflow">return</span> unshuffle(frames, self.sensor.interlacing[0])</div>
<div class="line"><span class="lineno">  690</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  691</span>        <span class="comment"># reshape frame into the proper shape, then split horizontally</span></div>
<div class="line"><span class="lineno">  692</span>        <span class="keywordflow">if</span> self.padToFull:</div>
<div class="line"><span class="lineno">  693</span>            framesab = [</div>
<div class="line"><span class="lineno">  694</span>                np.hsplit(frame.reshape(self.sensor.maxheight, -1), 2)</div>
<div class="line"><span class="lineno">  695</span>                <span class="keywordflow">for</span> frame <span class="keywordflow">in</span> frames</div>
<div class="line"><span class="lineno">  696</span>            ]</div>
<div class="line"><span class="lineno">  697</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  698</span>            framesab = [</div>
<div class="line"><span class="lineno">  699</span>                np.hsplit(</div>
<div class="line"><span class="lineno">  700</span>                    frame.reshape((self.sensor.lastrow - self.sensor.firstrow + 1), -1),</div>
<div class="line"><span class="lineno">  701</span>                    2,</div>
<div class="line"><span class="lineno">  702</span>                )</div>
<div class="line"><span class="lineno">  703</span>                <span class="keywordflow">for</span> frame <span class="keywordflow">in</span> frames</div>
<div class="line"><span class="lineno">  704</span>            ]</div>
<div class="line"><span class="lineno">  705</span>        framesa = [hemis[0] <span class="keywordflow">for</span> hemis <span class="keywordflow">in</span> framesab]</div>
<div class="line"><span class="lineno">  706</span>        framesb = [hemis[1] <span class="keywordflow">for</span> hemis <span class="keywordflow">in</span> framesab]</div>
<div class="line"><span class="lineno">  707</span>    <span class="keywordflow">if</span> self.sensor.interlacing == [0, 0]:</div>
<div class="line"><span class="lineno">  708</span>        <span class="keywordflow">return</span> framesa + framesb</div>
<div class="line"><span class="lineno">  709</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  710</span>        <span class="keywordflow">return</span> unshuffle(framesa, self.sensor.interlacing[0]) + unshuffle(</div>
<div class="line"><span class="lineno">  711</span>            framesb, self.sensor.interlacing[1]</div>
<div class="line"><span class="lineno">  712</span>        )</div>
<div class="line"><span class="lineno">  713</span> </div>
<div class="line"><span class="lineno">  714</span> </div>
<div class="line"><span class="lineno">  715</span><span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  716</span><span class="stringliteral">Copyright (c) 2025, Lawrence Livermore National Security, LLC.  All rights reserved.  </span></div>
<div class="line"><span class="lineno">  717</span><span class="stringliteral">LLNL-CODE-838080</span></div>
<div class="line"><span class="lineno">  718</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  719</span><span class="stringliteral">This work was produced at the Lawrence Livermore National Laboratory (LLNL) under </span></div>
<div class="line"><span class="lineno">  720</span><span class="stringliteral">contract no. DE-AC52-07NA27344 (Contract 44) between the U.S. Department of Energy (DOE)</span></div>
<div class="line"><span class="lineno">  721</span><span class="stringliteral">and Lawrence Livermore National Security, LLC (LLNS) for the operation of LLNL.</span></div>
<div class="line"><span class="lineno">  722</span><span class="stringliteral">&#39;nsCamera&#39; is distributed under the terms of the MIT license. All new contributions must</span></div>
<div class="line"><span class="lineno">  723</span><span class="stringliteral">be made under this license.</span></div>
<div class="line"><span class="lineno">  724</span><span class="stringliteral">&quot;&quot;&quot;</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a283e39af686373bf15eb4e799d5e4c65" name="a283e39af686373bf15eb4e799d5e4c65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a283e39af686373bf15eb4e799d5e4c65">&#9670;&#160;</a></span>plotFrames()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">nsCamera.utils.misc.plotFrames </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>frames</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>index</em><span class="paramdefsep"> = </span><span class="paramdefval">None</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Plot frame or list of frames as individual graphs.

Args:
    self: during normal operation, is cameraAssembler object. During offline
      operation, is the parameter object returned by loadDumpedData()
    frames: numpy array or list of numpy arrays
    index: number to start frame numbering

Returns:
    Error string
</pre> 
<p class="definition">Definition at line <a class="el" href="misc_8py_source.html#l00567">567</a> of file <a class="el" href="misc_8py_source.html">misc.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  567</span><span class="keyword">def </span>plotFrames(self, frames, index=None):</div>
<div class="line"><span class="lineno">  568</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  569</span><span class="stringliteral">    Plot frame or list of frames as individual graphs.</span></div>
<div class="line"><span class="lineno">  570</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  571</span><span class="stringliteral">    Args:</span></div>
<div class="line"><span class="lineno">  572</span><span class="stringliteral">        self: during normal operation, is cameraAssembler object. During offline</span></div>
<div class="line"><span class="lineno">  573</span><span class="stringliteral">          operation, is the parameter object returned by loadDumpedData()</span></div>
<div class="line"><span class="lineno">  574</span><span class="stringliteral">        frames: numpy array or list of numpy arrays</span></div>
<div class="line"><span class="lineno">  575</span><span class="stringliteral">        index: number to start frame numbering</span></div>
<div class="line"><span class="lineno">  576</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  577</span><span class="stringliteral">    Returns:</span></div>
<div class="line"><span class="lineno">  578</span><span class="stringliteral">        Error string</span></div>
<div class="line"><span class="lineno">  579</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  580</span>    <span class="comment"># logging.info(self.loginfo + &quot;plotFrames: index = &quot; + str(index))</span></div>
<div class="line"><span class="lineno">  581</span>    logging.info(</div>
<div class="line"><span class="lineno">  582</span>        <span class="stringliteral">&quot;{loginfo}: plotFrames: index = {index}&quot;</span>.format(</div>
<div class="line"><span class="lineno">  583</span>            loginfo=self.loginfo, index=index</div>
<div class="line"><span class="lineno">  584</span>        )</div>
<div class="line"><span class="lineno">  585</span>    )</div>
<div class="line"><span class="lineno">  586</span>    err = <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno">  587</span>    <span class="keywordflow">if</span> index <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  588</span>        nframe = self.sensor.firstframe</div>
<div class="line"><span class="lineno">  589</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  590</span>        nframe = index</div>
<div class="line"><span class="lineno">  591</span> </div>
<div class="line"><span class="lineno">  592</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> isinstance(frames, list):</div>
<div class="line"><span class="lineno">  593</span>        frames = [frames]</div>
<div class="line"><span class="lineno">  594</span> </div>
<div class="line"><span class="lineno">  595</span>    <span class="comment"># if this is a text string from fast readoff, do the numpy conversion now</span></div>
<div class="line"><span class="lineno">  596</span>    <span class="keywordflow">if</span> isinstance(frames[0], str):</div>
<div class="line"><span class="lineno">  597</span>        frames = generateFrames(frames)</div>
<div class="line"><span class="lineno">  598</span> </div>
<div class="line"><span class="lineno">  599</span>    framestemp = np.copy(frames)</div>
<div class="line"><span class="lineno">  600</span>    <span class="keywordflow">for</span> idx, frame <span class="keywordflow">in</span> enumerate(framestemp):</div>
<div class="line"><span class="lineno">  601</span>        <span class="keywordflow">if</span> idx &lt; len(framestemp) / 2:</div>
<div class="line"><span class="lineno">  602</span>            interlacing = self.sensor.interlacing[0]</div>
<div class="line"><span class="lineno">  603</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  604</span>            interlacing = self.sensor.interlacing[1]</div>
<div class="line"><span class="lineno">  605</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  606</span>            <span class="keywordflow">if</span> self.padToFull:</div>
<div class="line"><span class="lineno">  607</span>                frame = np.reshape(</div>
<div class="line"><span class="lineno">  608</span>                    frame, (self.sensor.maxheight // (interlacing + 1), -1)</div>
<div class="line"><span class="lineno">  609</span>                )</div>
<div class="line"><span class="lineno">  610</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  611</span>                frame = np.reshape(</div>
<div class="line"><span class="lineno">  612</span>                    frame,</div>
<div class="line"><span class="lineno">  613</span>                    (</div>
<div class="line"><span class="lineno">  614</span>                        (self.sensor.lastrow - self.sensor.firstrow + 1)</div>
<div class="line"><span class="lineno">  615</span>                        // (interlacing + 1),</div>
<div class="line"><span class="lineno">  616</span>                        -1,</div>
<div class="line"><span class="lineno">  617</span>                    ),</div>
<div class="line"><span class="lineno">  618</span>                )</div>
<div class="line"><span class="lineno">  619</span>        <span class="keywordflow">except</span>:</div>
<div class="line"><span class="lineno">  620</span>            err = <span class="stringliteral">&quot;{logerr}plotFrames: unable to plot frame&quot;</span>.format(logerr=self.logerr)</div>
<div class="line"><span class="lineno">  621</span>            logging.error(err)</div>
<div class="line"><span class="lineno">  622</span>            <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  623</span>        plt.imshow(frame, cmap=<span class="stringliteral">&quot;gray&quot;</span>)</div>
<div class="line"><span class="lineno">  624</span>        name = <span class="stringliteral">&quot;Frame %d&quot;</span> % nframe</div>
<div class="line"><span class="lineno">  625</span>        plt.title(name)</div>
<div class="line"><span class="lineno">  626</span>        plt.show()</div>
<div class="line"><span class="lineno">  627</span>        nframe += 1</div>
<div class="line"><span class="lineno">  628</span>    <span class="keywordflow">return</span> err</div>
<div class="line"><span class="lineno">  629</span> </div>
<div class="line"><span class="lineno">  630</span> </div>
<div class="line"><span class="lineno">  631</span><span class="comment">#  TODO: separate images for hemispheres with different timing</span></div>
<div class="line"><span class="lineno">  632</span> </div>
<div class="line"><span class="lineno">  633</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a6dff863e543c561b0f5ce7b691f6620c" name="a6dff863e543c561b0f5ce7b691f6620c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6dff863e543c561b0f5ce7b691f6620c">&#9670;&#160;</a></span>saveTiffs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">nsCamera.utils.misc.saveTiffs </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>frames</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>path</em><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>filename</em><span class="paramdefsep"> = </span><span class="paramdefval">&quot;Frame&quot;</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>prefix</em><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>index</em><span class="paramdefsep"> = </span><span class="paramdefval">None</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Save numpy array or list of numpy arrays or single array to disk as individual
  tiffs, with frame number appended to filename. If used for standalone, use the
  parameter object returned by loadDumpedData() as the first argument

Args:
    self: during normal operation, is cameraAssembler object. During offline
      operation, is the parameter object returned by loadDumpedData()
    frames: numpy array or list of numpy arrays
    path: save path, defaults to './output'
    filename: defaults to 'Frame' followed by frame number
    prefix: prepended to 'filename', defaults to time/date
      (e.g. '160830-124704_')
    index: number to start frame numbering

Returns:
    Error string
</pre> 
<p class="definition">Definition at line <a class="el" href="misc_8py_source.html#l00487">487</a> of file <a class="el" href="misc_8py_source.html">misc.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  494</span>):</div>
<div class="line"><span class="lineno">  495</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  496</span><span class="stringliteral">    Save numpy array or list of numpy arrays or single array to disk as individual</span></div>
<div class="line"><span class="lineno">  497</span><span class="stringliteral">      tiffs, with frame number appended to filename. If used for standalone, use the</span></div>
<div class="line"><span class="lineno">  498</span><span class="stringliteral">      parameter object returned by loadDumpedData() as the first argument</span></div>
<div class="line"><span class="lineno">  499</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  500</span><span class="stringliteral">    Args:</span></div>
<div class="line"><span class="lineno">  501</span><span class="stringliteral">        self: during normal operation, is cameraAssembler object. During offline</span></div>
<div class="line"><span class="lineno">  502</span><span class="stringliteral">          operation, is the parameter object returned by loadDumpedData()</span></div>
<div class="line"><span class="lineno">  503</span><span class="stringliteral">        frames: numpy array or list of numpy arrays</span></div>
<div class="line"><span class="lineno">  504</span><span class="stringliteral">        path: save path, defaults to &#39;./output&#39;</span></div>
<div class="line"><span class="lineno">  505</span><span class="stringliteral">        filename: defaults to &#39;Frame&#39; followed by frame number</span></div>
<div class="line"><span class="lineno">  506</span><span class="stringliteral">        prefix: prepended to &#39;filename&#39;, defaults to time/date</span></div>
<div class="line"><span class="lineno">  507</span><span class="stringliteral">          (e.g. &#39;160830-124704_&#39;)</span></div>
<div class="line"><span class="lineno">  508</span><span class="stringliteral">        index: number to start frame numbering</span></div>
<div class="line"><span class="lineno">  509</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  510</span><span class="stringliteral">    Returns:</span></div>
<div class="line"><span class="lineno">  511</span><span class="stringliteral">        Error string</span></div>
<div class="line"><span class="lineno">  512</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  513</span>    <span class="comment"># logging.info(&quot;INFO&quot; + self.logtag + &quot;: saveTiffs&quot;)</span></div>
<div class="line"><span class="lineno">  514</span>    logging.info(<span class="stringliteral">&quot;{loginfo}: saveTiffs&quot;</span>.format(loginfo=self.loginfo))</div>
<div class="line"><span class="lineno">  515</span>    err = <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno">  516</span>    <span class="keywordflow">if</span> path <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  517</span>        path = os.path.join(os.getcwd(), <span class="stringliteral">&quot;output&quot;</span>)</div>
<div class="line"><span class="lineno">  518</span>    <span class="keywordflow">if</span> prefix <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  519</span>        prefix = datetime.now().strftime(<span class="stringliteral">&quot;%y%m%d-%H%M%S%f&quot;</span>)[:-5] + <span class="stringliteral">&quot;_&quot;</span></div>
<div class="line"><span class="lineno">  520</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> os.path.exists(path):</div>
<div class="line"><span class="lineno">  521</span>        os.makedirs(path)</div>
<div class="line"><span class="lineno">  522</span>    <span class="keywordflow">if</span> index <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  523</span>        firstnum = self.sensor.firstframe</div>
<div class="line"><span class="lineno">  524</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  525</span>        firstnum = index</div>
<div class="line"><span class="lineno">  526</span> </div>
<div class="line"><span class="lineno">  527</span>    <span class="comment"># if this is a text string from fast readoff, do the numpy conversion now</span></div>
<div class="line"><span class="lineno">  528</span>    <span class="keywordflow">if</span> isinstance(frames[0], str):</div>
<div class="line"><span class="lineno">  529</span>        frames = generateFrames(frames)</div>
<div class="line"><span class="lineno">  530</span> </div>
<div class="line"><span class="lineno">  531</span>    framestemp = np.copy(frames)</div>
<div class="line"><span class="lineno">  532</span>    <span class="keywordflow">if</span> np.issubdtype(type(framestemp[0]), np.number):</div>
<div class="line"><span class="lineno">  533</span>        <span class="comment"># if type(framestemp[0]) is np.uint16:</span></div>
<div class="line"><span class="lineno">  534</span>        <span class="comment"># single frame needs to be a list containing one frame</span></div>
<div class="line"><span class="lineno">  535</span>        framestemp = [framestemp]</div>
<div class="line"><span class="lineno">  536</span>    <span class="keywordflow">for</span> idx, frame <span class="keywordflow">in</span> enumerate(framestemp):</div>
<div class="line"><span class="lineno">  537</span>        <span class="keywordflow">if</span> idx &lt; len(framestemp) / 2:</div>
<div class="line"><span class="lineno">  538</span>            interlacing = self.sensor.interlacing[0]</div>
<div class="line"><span class="lineno">  539</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  540</span>            interlacing = self.sensor.interlacing[1]</div>
<div class="line"><span class="lineno">  541</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  542</span>            <span class="keywordflow">if</span> self.padToFull:</div>
<div class="line"><span class="lineno">  543</span>                frame = np.reshape(</div>
<div class="line"><span class="lineno">  544</span>                    frame, (self.sensor.maxheight // (interlacing + 1), -1)</div>
<div class="line"><span class="lineno">  545</span>                )</div>
<div class="line"><span class="lineno">  546</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  547</span>                frame = np.reshape(</div>
<div class="line"><span class="lineno">  548</span>                    frame,</div>
<div class="line"><span class="lineno">  549</span>                    (</div>
<div class="line"><span class="lineno">  550</span>                        (self.sensor.lastrow - self.sensor.firstrow + 1)</div>
<div class="line"><span class="lineno">  551</span>                        // (interlacing + 1),</div>
<div class="line"><span class="lineno">  552</span>                        -1,</div>
<div class="line"><span class="lineno">  553</span>                    ),</div>
<div class="line"><span class="lineno">  554</span>                )</div>
<div class="line"><span class="lineno">  555</span>            frameimg = Image.fromarray(frame, <span class="stringliteral">&quot;I;16&quot;</span>)</div>
<div class="line"><span class="lineno">  556</span>            namenum = filename + <span class="stringliteral">&quot;_%d&quot;</span> % firstnum</div>
<div class="line"><span class="lineno">  557</span>            tifpath = os.path.join(path, prefix + namenum + <span class="stringliteral">&quot;.tif&quot;</span>)</div>
<div class="line"><span class="lineno">  558</span>            frameimg.save(tifpath)</div>
<div class="line"><span class="lineno">  559</span>            firstnum += 1</div>
<div class="line"><span class="lineno">  560</span>        <span class="keywordflow">except</span> Exception:</div>
<div class="line"><span class="lineno">  561</span>            err = <span class="stringliteral">&quot;saveTiffs: unable to save images&quot;</span></div>
<div class="line"><span class="lineno">  562</span>            <span class="comment"># logging.error(&quot;ERROR&quot; + self.logtag + &quot;: &quot; + err)</span></div>
<div class="line"><span class="lineno">  563</span>            logging.error(<span class="stringliteral">&quot;{logerr}: {err}&quot;</span>.format(logerr=self.logerr, err=err))</div>
<div class="line"><span class="lineno">  564</span>    <span class="keywordflow">return</span> err</div>
<div class="line"><span class="lineno">  565</span> </div>
<div class="line"><span class="lineno">  566</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aca83feaff324c676c1dcdfba8686798e" name="aca83feaff324c676c1dcdfba8686798e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca83feaff324c676c1dcdfba8686798e">&#9670;&#160;</a></span>str2bytes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">nsCamera.utils.misc.str2bytes </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>astring</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Python-version-agnostic converter of hexadecimal strings to bytes

Args:
    astring: hexadecimal string without '0x'

Returns:
    byte string equivalent to input string
</pre> 
<p class="definition">Definition at line <a class="el" href="misc_8py_source.html#l00090">90</a> of file <a class="el" href="misc_8py_source.html">misc.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   90</span><span class="keyword">def </span>str2bytes(astring):</div>
<div class="line"><span class="lineno">   91</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   92</span><span class="stringliteral">    Python-version-agnostic converter of hexadecimal strings to bytes</span></div>
<div class="line"><span class="lineno">   93</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   94</span><span class="stringliteral">    Args:</span></div>
<div class="line"><span class="lineno">   95</span><span class="stringliteral">        astring: hexadecimal string without &#39;0x&#39;</span></div>
<div class="line"><span class="lineno">   96</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   97</span><span class="stringliteral">    Returns:</span></div>
<div class="line"><span class="lineno">   98</span><span class="stringliteral">        byte string equivalent to input string</span></div>
<div class="line"><span class="lineno">   99</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  100</span> </div>
<div class="line"><span class="lineno">  101</span>    python, _, _, _, _ = sys.version_info</div>
<div class="line"><span class="lineno">  102</span>    <span class="keywordflow">if</span> python &gt;= 3:</div>
<div class="line"><span class="lineno">  103</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  104</span>            dbytes = binascii.a2b_hex(astring)</div>
<div class="line"><span class="lineno">  105</span>        <span class="keywordflow">except</span>:</div>
<div class="line"><span class="lineno">  106</span>            logging.error(</div>
<div class="line"><span class="lineno">  107</span>                <span class="stringliteral">&quot;ERROR: str2bytes: invalid input: &#39;{astring}&#39;; returning zero&quot;</span></div>
<div class="line"><span class="lineno">  108</span>                <span class="stringliteral">&quot; byte&quot;</span>.format(astring=astring)</div>
<div class="line"><span class="lineno">  109</span>            )</div>
<div class="line"><span class="lineno">  110</span>            dbytes = b<span class="stringliteral">&quot;\x00&quot;</span></div>
<div class="line"><span class="lineno">  111</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  112</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  113</span>            dbytes = astring.decode(<span class="stringliteral">&quot;hex&quot;</span>)</div>
<div class="line"><span class="lineno">  114</span>        <span class="keywordflow">except</span>:</div>
<div class="line"><span class="lineno">  115</span>            logging.error(</div>
<div class="line"><span class="lineno">  116</span>                <span class="stringliteral">&quot;ERROR: str2bytes: invalid input: &#39;{astring}&#39;; returning zero &quot;</span></div>
<div class="line"><span class="lineno">  117</span>                <span class="stringliteral">&quot; byte&quot;</span>.format(astring=astring)</div>
<div class="line"><span class="lineno">  118</span>            )</div>
<div class="line"><span class="lineno">  119</span>            dbytes = b<span class="stringliteral">&quot;\x00&quot;</span></div>
<div class="line"><span class="lineno">  120</span>    <span class="keywordflow">return</span> dbytes</div>
<div class="line"><span class="lineno">  121</span> </div>
<div class="line"><span class="lineno">  122</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a5de6afb772791fcbf3ba71c9d97b7277" name="a5de6afb772791fcbf3ba71c9d97b7277"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5de6afb772791fcbf3ba71c9d97b7277">&#9670;&#160;</a></span>str2nparray()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">nsCamera.utils.misc.str2nparray </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>valstring</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Convert string into array of uint16s

Args:
    valstring: string of hexadecimal characters

Returns:
    numpy array of uint16
</pre> 
<p class="definition">Definition at line <a class="el" href="misc_8py_source.html#l00147">147</a> of file <a class="el" href="misc_8py_source.html">misc.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  147</span><span class="keyword">def </span>str2nparray(valstring):</div>
<div class="line"><span class="lineno">  148</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  149</span><span class="stringliteral">    Convert string into array of uint16s</span></div>
<div class="line"><span class="lineno">  150</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  151</span><span class="stringliteral">    Args:</span></div>
<div class="line"><span class="lineno">  152</span><span class="stringliteral">        valstring: string of hexadecimal characters</span></div>
<div class="line"><span class="lineno">  153</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  154</span><span class="stringliteral">    Returns:</span></div>
<div class="line"><span class="lineno">  155</span><span class="stringliteral">        numpy array of uint16</span></div>
<div class="line"><span class="lineno">  156</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  157</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> isinstance(valstring, str):</div>
<div class="line"><span class="lineno">  158</span>        logging.error(</div>
<div class="line"><span class="lineno">  159</span>            <span class="stringliteral">&quot;ERROR: str2nparray: Invalid input: {valstring} is not a string. Returning&quot;</span></div>
<div class="line"><span class="lineno">  160</span>            <span class="stringliteral">&quot; an empty array&quot;</span>.format(valstring=valstring)</div>
<div class="line"><span class="lineno">  161</span>        )</div>
<div class="line"><span class="lineno">  162</span>        <span class="keywordflow">return</span> np.array([])</div>
<div class="line"><span class="lineno">  163</span>    stringlen = len(valstring)</div>
<div class="line"><span class="lineno">  164</span>    arraylen = int(stringlen / 4)</div>
<div class="line"><span class="lineno">  165</span>    outarray = np.empty(int(arraylen), dtype=<span class="stringliteral">&quot;uint16&quot;</span>)</div>
<div class="line"><span class="lineno">  166</span> </div>
<div class="line"><span class="lineno">  167</span>    <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(0, arraylen):</div>
<div class="line"><span class="lineno">  168</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  169</span>            outarray[i] = int(valstring[4 * i : 4 * i + 4], 16)</div>
<div class="line"><span class="lineno">  170</span>        <span class="keywordflow">except</span> ValueError:</div>
<div class="line"><span class="lineno">  171</span>            logging.error(</div>
<div class="line"><span class="lineno">  172</span>                <span class="stringliteral">&quot;ERROR: str2nparray: input string does not represent a hexadecimal&quot;</span></div>
<div class="line"><span class="lineno">  173</span>                <span class="stringliteral">&quot; integer. Returning an empty array&quot;</span></div>
<div class="line"><span class="lineno">  174</span>            )</div>
<div class="line"><span class="lineno">  175</span>            <span class="keywordflow">return</span> np.array([])</div>
<div class="line"><span class="lineno">  176</span>    <span class="keywordflow">return</span> outarray</div>
<div class="line"><span class="lineno">  177</span> </div>
<div class="line"><span class="lineno">  178</span> </div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
